(function(E,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("element-plus")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus"],e):(E=typeof globalThis<"u"?globalThis:E||self,e(E["kvuse-element"]={},E.Vue,E["element-plus"]))})(this,function(E,e,V){"use strict";const N={focus:{mounted:t=>{setTimeout(()=>{t.querySelector("input").focus()},100)}},autofocus:{mounted:t=>{setTimeout(()=>{t.querySelector("input").focus()},100)},updated:t=>{setTimeout(()=>{t.querySelector("input").focus()},100)}},money:{mounted:(t,n)=>{const o=t.textContent;if(typeof Number(o)!="number")return;let a="￥0";const{inter:c,point:i}=n.modifiers,d=i?n.value:2,l=o>=0?`￥${Number(o).toFixed(d)}`:`-￥${Math.abs(Number(o.toFixed(d)))}`;c?a=o>=0?`￥${o}`:`-￥${Math.abs(o)}`:a=o?l:"￥0.00",t.innerHTML=`${a}`},updated:(t,n)=>{const{point:o}=n.modifiers,a=o?n.value:2,c=n.arg==="value"&&n.value?`￥${Number(n.value).toFixed(a)}`:t.textContent;t.innerHTML=c}},params:{mounted:t=>{const n=t.textContent;t.innerHTML=`${n}`||"-"}},title:{mounted:t=>{t.parentNode.style.position="relative";const n=document.createElement("div");n.innerHTML=t.textContent,n.setAttribute("class","title-hover");const o=document.createElement("div");o.setAttribute("class","border-div"),n.appendChild(o),t.setAttribute("class","text-ellipsis"),t.onmouseover=()=>{t.parentNode.appendChild(n)},t.onmouseout=()=>{t.parentNode.removeChild(n)}}},keyboard:{mounted:(t,n)=>{let o=0;t.handler=function(a){const c=Date.now(),i=/^[a-zA-Z]{2,}/.test(a.key)?a.key:a.key.toLocaleUpperCase(),{buttonKey:d,isCombination:l=0}=n.value||t.valueKeys||{},s=document.contains(t),r=a.target.tagName==="TEXTAREA"||a.target.tagName==="INPUT",{dialog:m,focus:u,long:f,any:g,fast:C}=n.modifiers;if(!s&&!f){document.removeEventListener("keydown",t.handler);return}if(g&&n.arg){n.arg(a);return}const y=C?c-o>30:!0,h=document.querySelector(".el-popup-parent--hidden")||document.querySelector(".is-message-box");if(o=c,h&&!m)return;const b=a.ctrlKey||a.metaKey,w=l===+b&&d===i;(!r||u||l)&&w&&y&&n.arg&&n.arg(a)},document.addEventListener("keydown",t.handler)},updated(t,n){t.valueKeys=n.value,document.addEventListener("keydown",t.handler)},unmounted:t=>{document.removeEventListener("keydown",t.handler)}},button:{mounted:(t,n)=>{t.handler=function(){const{delay:o=800,content:a}=n.value||{};t.classList.add("is-disabled"),t.disabled=!0,a&&(t.beforeText=t.textContent,t.innerHTML=a);const{once:c}=n.modifiers;c||(t.timer=setTimeout(()=>{t.classList.remove("is-disabled"),t.disabled=!1,a&&(t.innerHTML=t.beforeText),t.beforeText=null,clearTimeout(t.timer),t.timer=null},o))},t.addEventListener("click",t.handler)},updated(t){t.addEventListener("click",t.handler)},unmounted:t=>{t.removeEventListener("click",t.handler)}}};N.install=function(t){Object.keys(N).forEach(n=>{t.directive(n,N[n])})};const _=(t,n)=>{const o=t.__vccOpts||t;for(const[a,c]of n)o[a]=c;return o},re=e.defineComponent({name:"KButton",components:{ElButton:V.ElButton},props:{clickState:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},border:{type:Boolean,default:!1},iconLock:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:n,attrs:o}){const a=e.ref(!0),c=e.ref(null),i=()=>{a.value&&(a.value=!1,n("click")),d()},d=()=>{clearTimeout(c.value),c.value=setTimeout(()=>{a.value=!0},800)},l=e.computed(()=>{const{border:s}=t,{type:r="text"}=o;return s?{backgroundColor:"transparent",color:`var(--el-color-${r})`}:{}});return{onclick:i,buttonStatus:a,buttonStyle:l}}}),se={key:0,class:"el-icon-lock el-icon--right"};function ce(t,n,o,a,c,i){const d=e.resolveComponent("el-button");return e.openBlock(),e.createBlock(d,e.mergeProps({disabled:!t.buttonStatus||t.disabled,style:t.buttonStyle,"click-state":t.clickState},t.$attrs,{onClick:e.withModifiers(t.onclick,["stop"])}),{default:e.withCtx(()=>[e.renderSlot(t.$slots,"default"),t.iconLock?(e.openBlock(),e.createElementBlock("i",se)):e.createCommentVNode("",!0)]),_:3},16,["disabled","style","click-state","onClick"])}const x=_(re,[["render",ce]]);x.install=function(t){t.component(x.name,x)};const de=e.defineComponent({name:"KInput",components:{ElInput:V.ElInput},props:{modelValue:{type:[String,Number],default:""},point:{type:Number,default:2},type:{type:String,default:"number"}},emits:["change","update:modelValue","enter"],setup(t,{emit:n,attrs:o}){const a=e.ref(null),c=e.ref(!0),i=e.computed({get(){return t.modelValue},set(m){d(m)}}),d=m=>{let u=m,f=o.max;if(t.type==="number"){if(u=u.replace(/[^\d.]/g,""),u=u.replace(/^\./g,""),u=u.replace(/\.{2,}/g,"."),u=u.replace(".","$#$").replace(/\./g,"").replace("$#$","."),u.indexOf(".")<0&&u!==""&&u.substr(0,1)==="0"&&u.length===2&&(u=u.substr(1,u.length)),u!=="")if(u.indexOf(".")>0){if(t.point){const g=new RegExp(`^\\d+(\\.\\d{0,${t.point}})?`,"g");u=u.match(g)[0]||null}}else u==="."&&(u="");f=o.max??999999.99}else t.type==="integer"?(u=u.replace(/[^\d]/g,""),f=o.max??999999):t.type==="intText"&&(u=u.replace(/[^\w]/g,""));!o.maxlength&&f!==void 0&&u&&Number(u)>Number(f)&&(u=f),o.min!==void 0&&u&&Number(u)<Number(o.min)&&(u=o.min),n("update:modelValue",u)},l=()=>{c.value&&(c.value=!1,i.value&&n("enter")),r()},s=m=>{n("change",m)},r=()=>{clearTimeout(a.value),a.value=setTimeout(()=>{c.value=!0},800)};return{inputValue:i,changeValue:s,searchContent:l}}});function ie(t,n,o,a,c,i){const d=e.resolveComponent("el-input");return e.openBlock(),e.createBlock(d,e.mergeProps({modelValue:t.inputValue,"onUpdate:modelValue":n[0]||(n[0]=l=>t.inputValue=l)},t.$attrs,{onKeyup:e.withKeys(t.searchContent,["enter"]),onChange:t.changeValue}),e.createSlots({_:2},[t.$slots.append?{name:"append",fn:e.withCtx(()=>[e.renderSlot(t.$slots,"append")]),key:"0"}:void 0,t.$slots.prepend?{name:"prepend",fn:e.withCtx(()=>[e.renderSlot(t.$slots,"prepend")]),key:"1"}:void 0,t.$slots.prefix?{name:"prefix",fn:e.withCtx(()=>[e.renderSlot(t.$slots,"prefix")]),key:"2"}:void 0,t.$slots.suffix?{name:"suffix",fn:e.withCtx(()=>[e.renderSlot(t.$slots,"suffix")]),key:"3"}:void 0]),1040,["modelValue","onKeyup","onChange"])}const T=_(de,[["render",ie]]);T.install=function(t){t.component(T.name,T)};/*! Element Plus Icons Vue v2.3.1 */var ue=e.defineComponent({name:"CaretLeft",__name:"caret-left",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"})]))}}),pe=ue,me=e.defineComponent({name:"CaretRight",__name:"caret-right",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),fe=me,he=e.defineComponent({name:"Delete",__name:"delete",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),ge=he,ye=e.defineComponent({name:"Minus",__name:"minus",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),be=ye,ke=e.defineComponent({name:"Plus",__name:"plus",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Ce=ke,we=e.defineComponent({name:"Warning",__name:"warning",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[e.createElementVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0m-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"})]))}}),$e=we;const Ee=e.defineComponent({name:"KInputNumber",components:{Minus:be,Plus:Ce,KInput:T},props:{modelValue:{type:[String,Number],default:""},step:{type:Number,default:1},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},size:{type:String,default:"default"},max:{type:Number,default:999999},min:{type:Number,default:1},type:{type:String,default:"integer"}},emits:["update:modelValue","blur","focus","enter","change"],setup(t,{emit:n}){const o=e.ref(1),a=e.ref(null),c=e.ref(!1),i=e.computed(()=>t.modelValue<=t.min),d=e.computed(()=>t.modelValue>=t.max),l=e.computed({get:()=>t.modelValue,set:h=>{n("update:modelValue",h)}}),s=h=>n("blur",h),r=h=>n("focus",h),m=h=>n("enter",h),u=h=>{e.nextTick(()=>{const b=h===""?void 0:Number(h);(!Number.isNaN(b)||h==="")&&y(b)})},f=h=>{c.value=!h,a.value=h},g=e.ref(-1);e.watchEffect(()=>{o.value=t.modelValue}),e.watch(()=>g.value,h=>{h<0&&(l.value=t.modelValue,u(o.value))},{immediate:!0});const C=h=>{const b=h==="increase",w=b?d.value:i.value;if(t.disabled||w)return;const p=c.value?0:l.value,$=a.value?o.value:p,k=b?$+t.step:$-t.step;y(k)},y=h=>{a.value=h;let b=h;g.value!==b&&(g.value=h,b>=t.max&&(b=t.max),b<=t.min&&(b=t.min),a.value===void 0&&(b=1),n("update:modelValue",b),n("change",b,g.value),o.value=b)};return{currentValue:o,minDisabled:i,maxDisabled:d,handleBlur:s,handleFocus:r,handleKeyUp:m,handleInputChange:u,handleInput:f,clickBtnHandle:C}}});function Ve(t,n,o,a,c,i){const d=e.resolveComponent("minus"),l=e.resolveComponent("el-icon"),s=e.resolveComponent("plus"),r=e.resolveComponent("k-input");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["el-input-number",{"is-disabled":t.disabled},{"is-without-controls":!t.controls},t.size?"el-input-number--"+t.size:""])},[t.controls?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["el-input-number__decrease",{"is-disabled":t.minDisabled}]),role:"button",onClick:n[0]||(n[0]=m=>t.clickBtnHandle("decrease"))},[e.createVNode(l,{class:"el-input__icon"},{default:e.withCtx(()=>[e.createVNode(d)]),_:1})],2)):e.createCommentVNode("",!0),t.controls?(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["el-input-number__increase",{"is-disabled":t.maxDisabled}]),role:"button",onClick:n[1]||(n[1]=m=>t.clickBtnHandle("increase"))},[e.createVNode(l,{class:"el-input__icon"},{default:e.withCtx(()=>[e.createVNode(s)]),_:1})],2)):e.createCommentVNode("",!0),e.createVNode(r,e.mergeProps({ref:"input",modelValue:t.currentValue,"onUpdate:modelValue":n[2]||(n[2]=m=>t.currentValue=m),disabled:t.disabled,type:t.type},t.$attrs,{onBlur:t.handleBlur,maxlength:"6",onFocus:t.handleFocus,onChange:t.handleInputChange,onInput:t.handleInput,onKeyup:e.withKeys(t.handleKeyUp,["enter"])}),null,16,["modelValue","disabled","type","onBlur","onFocus","onChange","onInput","onKeyup"])],2)}const D=_(Ee,[["render",Ve]]);D.install=function(t){t.component(D.name,D)};/*! Element Plus v2.4.3 */var X={name:"zh-cn",el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}};const _e=e.defineComponent({name:"KPage",props:{modelValue:{type:Number,default:1},size:{type:Number,default:10},total:{type:Number,default:9},showSize:{type:Boolean,default:!1},small:{type:Boolean,default:!1},pagerCount:{type:Number,default:7}},components:{ElConfigProvider:V.ElConfigProvider,ElPagination:V.ElPagination},emits:["update:modelValue","update:size","current-change","size-change","change"],setup(t,{emit:n}){const o=X,a=e.computed(()=>{const{total:r,size:m,showSize:u}=t;return u?!0:r>m}),c=e.computed({get(){return t.modelValue},set(r){n("update:modelValue",r)}}),i=e.computed({get:()=>t.size,set:r=>n("update:size",r)}),d=e.computed(()=>{const r=["total","sizes","prev","pager","next","jumper"];return t.showSize||r.splice(1,1),r.join(",")});return{locale:o,currentPage:c,layoutList:d,handleSizeChange:r=>{c.value=1,n("update:size",r),n("size-change",r),n("change",{page:t.size===r?c.value:1,size:r})},handleCurrentChange:r=>{n("current-change",r),n("change",{page:r,size:t.size})},showPage:a,pageSize:i}}}),Be={key:0,class:"page-right mt20"};function Se(t,n,o,a,c,i){const d=e.resolveComponent("el-pagination"),l=e.resolveComponent("el-config-provider");return t.showPage?(e.openBlock(),e.createElementBlock("div",Be,[e.createVNode(l,{locale:t.locale},{default:e.withCtx(()=>[e.createVNode(d,e.mergeProps({onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange,currentPage:t.currentPage,"onUpdate:currentPage":n[0]||(n[0]=s=>t.currentPage=s),"page-sizes":[10,20,50,100],"page-size":t.pageSize,"onUpdate:pageSize":n[1]||(n[1]=s=>t.pageSize=s),layout:t.layoutList,total:t.total,small:t.small,"pager-count":t.pagerCount},t.$attrs),null,16,["onSizeChange","onCurrentChange","currentPage","page-size","layout","total","small","pager-count"])]),_:1},8,["locale"])])):e.createCommentVNode("",!0)}const S=_(_e,[["render",Se],["__scopeId","data-v-30359b33"]]);S.install=function(t){t.component(S.name,S)};const Ne=e.defineComponent({name:"KTable",components:{pagination:S,ElTable:V.ElTable,ElTableColumn:V.ElTableColumn},props:{emptyText:{type:String,default:"暂无数据"},headerCellStyle:{type:Object,default:()=>({background:"#f5f7fa",color:"#909399"})},tableColumn:{type:Array,default:()=>[{label:"日期",prop:"date"},{label:"姓名",prop:"name"}]},showOverflowTooltip:{type:Boolean,default:!0},tableData:{type:Array,default:()=>[]},modelValue:{type:Number,default:1},showSize:{type:Boolean,default:!1},total:{type:Number,default:9},size:{type:Number,default:10}},emits:["update:modelValue","current-change","update:tableData","sort-change"],setup(t,{emit:n}){const o=e.computed({get:()=>t.tableData,set:l=>n("update:tableData",l)}),a=e.computed({get:()=>t.modelValue,set:l=>n("update:modelValue",l)}),c=l=>n("current-change",l),i=({column:l,order:s})=>{const r=s==="ascending"?1:0;n("sort-change",{prop:l==null?void 0:l.rawColumnKey,order:s,sortType:r,currentPage:a.value,column:l,sortColumn:l==null?void 0:l.rawColumnKey})},d=e.ref(null);return{currentPage:a,tableDataList:o,changePage:c,sortChange:i,instance:d,elTable:d}}}),Te={key:2};function De(t,n,o,a,c,i){const d=e.resolveComponent("el-table-column"),l=e.resolveComponent("el-table"),s=e.resolveComponent("pagination");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(l,e.mergeProps({data:t.tableDataList,style:{width:"100%"},class:"mt20","header-cell-style":t.headerCellStyle},t.$attrs,{"empty-text":t.emptyText,onSortChange:t.sortChange,ref:"elTable"}),e.createSlots({default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tableColumn,r=>(e.openBlock(),e.createBlock(d,{key:r.prop,label:r.label,name:r.name,width:r.width,"min-width":r.minWidth,fixed:r.fixed,sortable:r.sortable,type:r.type,"show-overflow-tooltip":r.showOverflowTooltip??!0},e.createSlots({default:e.withCtx(m=>[t.$slots.default?e.renderSlot(t.$slots,"default",{key:0,item:m.row,row:m.row,index:m.$index}):r.custom&&m.$index>=0?e.renderSlot(t.$slots,r.custom,{key:1,item:m.row,row:m.row,index:m.$index}):(e.openBlock(),e.createElementBlock("span",Te,e.toDisplayString(m.row[r.prop]??"-"),1))]),_:2},[r.header?{name:"header",fn:e.withCtx(()=>[e.renderSlot(t.$slots,r.header)]),key:"0"}:void 0]),1032,["label","name","width","min-width","fixed","sortable","type","show-overflow-tooltip"]))),128))]),_:2},[t.$slots.empty?{name:"empty",fn:e.withCtx(()=>[e.renderSlot(t.$slots,"empty")]),key:"0"}:void 0]),1040,["data","header-cell-style","empty-text","onSortChange"]),e.createVNode(s,{total:t.total,size:t.size,"show-size":t.showSize,modelValue:t.currentPage,"onUpdate:modelValue":n[0]||(n[0]=r=>t.currentPage=r),onCurrentChange:t.changePage},null,8,["total","size","show-size","modelValue","onCurrentChange"])],64)}const F=_(Ne,[["render",De]]);F.install=function(t){t.component(F.name,F)};const Ie=e.defineComponent({name:"KVirtualList",components:{ElScrollbar:V.ElScrollbar},props:{height:{type:String,default:"500px"},rowStyle:{type:Object,default:()=>({})},rowClassName:{type:[Function,String,Object],default:""},data:{type:Array,default:()=>[]}},emits:["scroll","row-click"],setup(t,{emit:n}){const o=e.ref(0),a=e.ref(0),c=e.ref(null),i=e.ref(10),d=()=>{var h,b;return((h=document.querySelector(".table-row"))==null?void 0:h.offsetHeight)??((b=document.querySelector(".list-item"))==null?void 0:b.offsetHeight)??10},l=()=>{const{clientHeight:h=100}=c.value.wrapRef||{};return Math.ceil(h/d())+o.value},s=e.ref(100);e.onMounted(()=>{i.value=Number(l())||10,s.value=t.data.length*d()});const r=h=>Math.floor(h/d()),m=h=>Math.ceil(h*d()),u=h=>h>=o.value&&h<=i.value,f=e.computed(()=>t.data.filter((h,b)=>u(b)));return e.watch(()=>t.data,h=>{h.length||(o.value=0,a.value=0),t.data.forEach((b,w)=>{b.rowIndex=w}),e.nextTick(()=>{s.value=t.data.length*d()})}),{startIndex:o,endIndex:i,startOffset:a,viewport:c,onScroll:h=>{const{scrollTop:b,clientHeight:w}=c.value.wrapRef;o.value=r(b),a.value=m(o.value),i.value=l();const p=Math.abs(s.value-w-b);n("scroll",{distance:p,...h})},showViewRanges:u,containHeight:s,listRanges:f,rowClick:(h,b)=>{n("row-click",h,b)},rowClassHandle:(h,b)=>typeof t.rowClassName=="function"?t.rowClassName({row:h,rowIndex:b}):t.rowClassName}}}),ze={class:"virtual-list","data-testid":"virtual-list"},xe=["onClick"];function Fe(t,n,o,a,c,i){const d=e.resolveComponent("el-scrollbar");return e.openBlock(),e.createBlock(d,e.mergeProps({height:t.height,ref:"viewport"},t.$attrs,{onScroll:t.onScroll}),{default:e.withCtx(()=>[e.createElementVNode("div",ze,[e.createElementVNode("div",{class:"list-contain",style:e.normalizeStyle({height:`${t.containHeight}px`})},null,4),e.createElementVNode("div",{class:"list-content",style:e.normalizeStyle({transform:`translate3d(0,${t.startOffset}px,0)`})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.listRanges,(l,s)=>(e.openBlock(),e.createElementBlock("div",{key:s,class:e.normalizeClass(["list-item",t.rowClassHandle(l,l.rowIndex)]),style:e.normalizeStyle(t.rowStyle),onClick:r=>t.rowClick(l,l.rowIndex)},[e.renderSlot(t.$slots,"default",{row:l,index:l.rowIndex},()=>[e.createTextVNode(e.toDisplayString(l.name),1)],!0)],14,xe))),128))],4)])]),_:3},16,["height","onScroll"])}const I=_(Ie,[["render",Fe],["__scopeId","data-v-e53aecaa"]]);I.install=function(t){t.component(I.name,I)};const J={modelValue:{type:Array,default:()=>[]},keyId:{type:String,default:"id"},rowStyle:{type:Object,default:()=>({})},rowClassName:{type:[Function,String,Object],default:""},tableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[{label:"商品名称",prop:"name",aglin:"center"},{label:"等级",prop:"level"},{label:"价格",prop:"price"}]},headerCellStyle:{type:Object,default:()=>({background:"#f5f7fa",color:"#909399"})},height:{type:String,default:"100%"},showSummary:{type:Boolean,default:!1},sumText:{type:String,default:"合计"},summaryMethod:{type:[String,Function],default:""},emptyText:{type:String,default:"暂无数据"}};function Q(t){const n=e.ref(null),o=d=>{var f,g,C,y;let l={};const{align:s,width:r,fixed:m,minWidth:u}=d;if(s&&(l["text-center"]=`${s}`),u&&(l["min-width"]=`${u}`),r&&(l={...l,width:`${r}`,flex:"inherit","flex-shrink":0}),m){const h=t.tableColumn.findIndex(w=>w.prop===d.prop),b=t.tableColumn.length;if(l={...l,position:"sticky","z-index":50},m==="left"){const w=(f=t.tableColumn.filter(k=>k.fixed==="left"))==null?void 0:f.length;let p=0;h>0&&h<b-1&&w>1&&(p=(g=n.value)==null?void 0:g.at(h-1).clientWidth),l.left=`${p}px`;let $=0;t.tableColumn.forEach((k,B)=>{k.fixed==="left"&&($=B)}),$===h&&(l["box-shadow"]="3px 0px 4px #b0a8a836")}else{const w=(C=t.tableColumn.filter(k=>k.fixed&&k.fixed!=="left"))==null?void 0:C.length;let p=0;h<b-1&&w>1&&(p=(y=n.value)==null?void 0:y.at(h+1).clientWidth),t.tableColumn.findIndex(k=>k.fixed&&k.fixed!=="left")===h&&(l["box-shadow"]="-3px 0 4px #b0a8a836"),l.right=`${p}px`}}return t.isFooter&&(l.color="#606266"),l},a=e.ref(null),c=d=>{const l=t.tableData.reduce((s,r)=>s+Number(r[d.prop]),0);return Number.isNaN(l)?"N/A":l.toFixed(2)};return{headerColmn:n,headerClass:o,tableHeader:a,getSummaries:(d,l)=>t.summaryMethod?t.summaryMethod({row:d,index:l}):l?c(d):t.sumText}}const Ke={class:"flex table-border-bottom header-content"},He={key:0,class:"table-header-sort flex-column flex-center"},Me={class:"sort-wrapper"},Le=["onClick"],Ae=["onClick"],Pe={__name:"headerFooter",props:{...J,isFooter:{type:Boolean,default:!1}},emits:["sort-change"],setup(t,{expose:n,emit:o}){const a=t,c=o,{headerClass:i,tableHeader:d}=Q(a),l=e.ref(null),s=e.ref({}),r=(u,f)=>{s.value=f,l.value=l.value===u?null:u,c("sort-change",{column:f,sortType:l.value})};return n({setScrollLeft:u=>{d.value.scrollLeft=`${u}`}}),(u,f)=>(e.openBlock(),e.createElementBlock("div",{class:"table-header overflow",ref_key:"tableHeader",ref:d},[e.createElementVNode("div",Ke,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.tableColumn,(g,C)=>(e.openBlock(),e.createElementBlock("div",{key:C,class:"header-column cell flex-align-center",ref_for:!0,ref:"headerColmn",style:e.normalizeStyle([u.headerCellStyle,e.unref(i)(g)])},[e.renderSlot(u.$slots,"default",{row:g,index:C},()=>[e.createTextVNode(e.toDisplayString(g.label),1)],!0),g.sortable&&!t.isFooter?(e.openBlock(),e.createElementBlock("div",He,[e.createElementVNode("span",Me,[e.createElementVNode("i",{class:e.normalizeClass(["sort-caret ascending",{"bottom-caret":l.value==="ascending"&&s.value.prop==g.prop}]),onClick:y=>r("ascending",g)},null,10,Le),e.createElementVNode("i",{class:e.normalizeClass(["sort-caret descending",{"top-caret":l.value==="descending"&&s.value.prop==g.prop}]),onClick:y=>r("descending",g)},null,10,Ae)])])):e.createCommentVNode("",!0)],4))),128))])],512))}},Re=_(Pe,[["__scopeId","data-v-2fd08206"]]),Ye=e.defineComponent({name:"KTableV2",components:{virtualList:I,headerFooter:Re},props:J,emits:["sort-change"],setup(t,{emit:n}){const o=e.computed(()=>t.tableColumn.map((f,g)=>({...f,keyId:g}))),{headerColmn:a,headerClass:c,tableHeader:i,getSummaries:d}=Q(t),l=e.ref(null),s=({scrollLeft:f})=>{var g,C;(g=i.value)==null||g.setScrollLeft(f),(C=l.value)==null||C.setScrollLeft(f)},r=({column:f,sortType:g})=>n("sort-change",{column:f,sortType:g}),m=e.ref(null),u=f=>{var g;return(g=m.value)==null?void 0:g.viewport.setScrollTop(f)};return{...e.toRefs(t),columnList:o,headerClass:c,tableHeader:i,tableBottom:l,scrollHandle:s,headerColmn:a,clickSortCaret:r,virtualRef:m,setScrollTop:u,getSummaries:d}}}),Oe={class:"table-v2 el-table flex-column"},je={class:"flex table-body"};function Ue(t,n,o,a,c,i){const d=e.resolveComponent("headerFooter"),l=e.resolveComponent("virtualList");return e.openBlock(),e.createElementBlock("div",Oe,[e.createVNode(d,{ref:"tableHeader","table-column":t.tableColumn,onSortChange:t.clickSortCaret},{default:e.withCtx(({row:s,index:r})=>[e.renderSlot(t.$slots,s==null?void 0:s.header,{row:s,index:r},()=>[e.createTextVNode(e.toDisplayString(s.label),1)],!0)]),_:3},8,["table-column","onSortChange"]),t.tableData.length?(e.openBlock(),e.createBlock(l,e.mergeProps({key:0,data:t.tableData,always:"",ref:"virtualRef","row-class-name":t.rowClassName},t.$attrs,{height:t.height,onScroll:t.scrollHandle}),{default:e.withCtx(({row:s,index:r})=>[e.renderSlot(t.$slots,"content",{},()=>[e.createElementVNode("div",je,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columnList,m=>(e.openBlock(),e.createElementBlock("div",{key:m.keyId,class:e.normalizeClass(["cell table-row table-border-bottom flex-align-center",{"fixed-cell":m.fixed}]),ref_for:!0,ref:"bodyCell",style:e.normalizeStyle(t.headerClass(m))},[e.createElementVNode("div",{class:e.normalizeClass({"text-overflow":m.showOverflowTooltip??!0})},[e.renderSlot(t.$slots,(m==null?void 0:m.custom)??"default",{row:s,index:r},()=>[e.createTextVNode(e.toDisplayString(s[m.prop]),1)],!0)],2)],6))),128))])],!0)]),_:3},16,["data","row-class-name","height","onScroll"])):(e.openBlock(),e.createElementBlock("div",{key:1,class:"flex-center pt20 pb20",style:e.normalizeStyle({height:t.height})},[e.renderSlot(t.$slots,"empty",{},()=>[e.createTextVNode(e.toDisplayString(t.emptyText),1)],!0)],4)),e.renderSlot(t.$slots,"footer",{},()=>[t.showSummary||t.$slots.footer?(e.openBlock(),e.createBlock(d,{key:0,ref:"tableBottom","table-column":t.tableColumn,"is-footer":""},{default:e.withCtx(({row:s,index:r})=>[e.createTextVNode(e.toDisplayString(t.getSummaries(s,r)),1)]),_:1},8,["table-column"])):e.createCommentVNode("",!0)],!0)])}const K=_(Ye,[["render",Ue],["__scopeId","data-v-393e4622"]]);K.install=function(t){t.component(K.name,K)};const We={modelValue:{type:Array,default:()=>[]},total:{type:Number,default:9},size:{type:Number,default:10},page:{type:Number,default:1},showSize:{type:Boolean,default:!1},keyId:{type:String,default:"id"},checkKey:{type:String,default:"isSelect"},tableData:{type:Array,default:()=>[]},selectList:{type:Array,default:()=>[]},showFooter:{type:Boolean,default:!0},tableColumn:{type:Array,default:()=>[{label:"商品名称",prop:"name"},{label:"等级",prop:"level"},{label:"价格",prop:"price"}]},headerCellStyle:{type:Object,default:()=>({background:"#f5f7fa",color:"#909399"})}},qe={key:2},Ge={key:0,class:"flex-between"},Ze={class:"flex1 mr20 mt20"},z=Object.assign({name:"KBatchTable"},{__name:"main",props:We,emits:["update:modelValue","update:page","current-change","row-click"],setup(t,{expose:n,emit:o}){const a=t,c=o,i=e.ref(null),d=e.ref([]),l=p=>{p?p.forEach($=>{const k=a.tableData.find(B=>B[a.keyId]===$[a.keyId]);i.value.toggleRowSelection(k??$)}):i.value.clearSelection()},s=(p,$=!0)=>{$?d.value.push(p):d.value=d.value.filter(k=>k[a.keyId]!==(p==null?void 0:p[a.keyId]))},r=p=>p[a.checkKey]??!p[a.checkKey],m=(p,$)=>{const k=p.some(B=>B[a.keyId]===($==null?void 0:$[a.keyId]));s($,k)},u=p=>g(p),f=p=>{if(!r(p))return;l([p]);const $=d.value.some(k=>k[a.keyId]===p[a.keyId]);s(p,!$),c("row-click",p)};e.watch(()=>d.value,(p,$)=>{$&&c("update:modelValue",p)},{immediate:!0,deep:!0});const g=(p=[])=>{l(),p.forEach($=>{const k=a.tableData.find(B=>B[a.keyId]===$[a.keyId]);i.value.toggleRowSelection(k??$,!!r($))}),d.value=p},C=()=>g();e.watch(()=>a.modelValue,(p,$)=>{!p.length&&$.length&&g()});const y=p=>p[a.keyId],h=()=>{a.selectList.length&&a.selectList.forEach(p=>{a.tableData.forEach($=>{$[a.checkKey]=$[a.checkKey]??1,y(p)===y($)&&($[a.checkKey]=0)})})};e.watch(()=>a.tableData,p=>{e.nextTick(()=>{p.length&&h(),p.length&&g(a.modelValue)})},{immediate:!0});const b=e.computed({get:()=>a.page,set:p=>c("update:page",p)}),w=p=>{c("current-change",p)};return n({toggleSelection:g,handleRowClick:f,clear:C}),(p,$)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(e.unref(V.ElTable),e.mergeProps({ref_key:"multipleTableRef",ref:i,"empty-text":"暂无数据"},p.$attrs,{data:p.tableData,"header-cell-style":p.headerCellStyle,onSelect:m,onSelectAll:u,onRowClick:f}),e.createSlots({default:e.withCtx(()=>[e.createVNode(e.unref(V.ElTableColumn),{type:"selection",width:"55",selectable:r}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.tableColumn,k=>(e.openBlock(),e.createBlock(e.unref(V.ElTableColumn),{label:k.label,key:k.prop,width:k.width,fixed:k.fixed,"min-width":k.minWidth,"show-overflow-tooltip":k.showOverflowTooltip??!0},e.createSlots({default:e.withCtx(B=>[p.$slots.default?e.renderSlot(p.$slots,"default",{key:0,item:B.row,row:B.row,column:k,index:B.$index}):e.createCommentVNode("",!0),k.custom&&B.$index>=0?e.renderSlot(p.$slots,k.custom,{key:1,item:B.row,column:k,row:B.row,index:B.$index}):(e.openBlock(),e.createElementBlock("span",qe,e.toDisplayString(B.row[k.prop]??"-"),1))]),_:2},[k.header?{name:"header",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"header",{column:k}),e.renderSlot(p.$slots,k.header,{column:k})]),key:"0"}:void 0]),1032,["label","width","fixed","min-width","show-overflow-tooltip"]))),128))]),_:2},[p.$slots.empty?{name:"empty",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"empty")]),key:"0"}:void 0]),1040,["data","header-cell-style"]),p.showFooter?(e.openBlock(),e.createElementBlock("div",Ge,[e.createElementVNode("div",Ze,[p.$slots.footer?e.renderSlot(p.$slots,"footer",{key:0}):e.createCommentVNode("",!0)]),e.createVNode(e.unref(S),e.mergeProps({total:p.total,"show-size":p.showSize},p.$attrs,{modelValue:b.value,"onUpdate:modelValue":$[0]||($[0]=k=>b.value=k),onCurrentChange:w}),null,16,["total","show-size","modelValue"])])):e.createCommentVNode("",!0)],64))}});z.install=function(t){t.component(z.name,z)};const Xe=e.defineComponent({name:"KDialog",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"提示"},showFooter:{type:Boolean,default:!0},customClass:{type:String,default:""},class:{type:String,default:""},confirmDisabled:{type:Boolean,default:!1}},components:{ElDialog:V.ElDialog,ElButton:V.ElButton},emits:["update:modelValue","confirm","open","close"],setup(t,{emit:n}){const o=e.computed({get:()=>t.modelValue,set:l=>n("update:modelValue",l)}),a=e.computed(()=>t.class?t.class:t.customClass?t.customClass:t.showFooter?"custom-dialog":"custom-dialog no-footer");return{dialogVisible:o,customClassName:a,closeHandle:()=>{n("close"),parent.window.postMessage("closeMask()","*"),window.top.postMessage("closeMask()","*")},openHandler:()=>{n("open"),parent.window.postMessage("openMask()","*"),window.top.postMessage("openMask()","*")},confirmHandler:()=>{n("confirm")}}}}),Je=e.createElementVNode("span",null,"这是一段信息",-1),Qe={class:"dialog-footer"};function ve(t,n,o,a,c,i){const d=e.resolveComponent("el-button"),l=e.resolveComponent("el-dialog");return e.openBlock(),e.createBlock(l,e.mergeProps({title:t.title,modelValue:t.dialogVisible,"onUpdate:modelValue":n[1]||(n[1]=s=>t.dialogVisible=s),class:t.customClassName},t.$attrs,{onClose:t.closeHandle,onOpen:t.openHandler}),e.createSlots({default:e.withCtx(()=>[e.renderSlot(t.$slots,"default",{},()=>[Je])]),_:2},[t.showFooter?{name:"footer",fn:e.withCtx(()=>[e.renderSlot(t.$slots,"footer",{},()=>[e.createElementVNode("span",Qe,[e.createVNode(d,{size:"large",onClick:n[0]||(n[0]=s=>t.dialogVisible=!1)},{default:e.withCtx(()=>[e.createTextVNode("取 消")]),_:1}),e.createVNode(d,{size:"large",type:"primary",disabled:t.confirmDisabled,onClick:t.confirmHandler},{default:e.withCtx(()=>[e.createTextVNode("确 定")]),_:1},8,["disabled","onClick"])])])]),key:"0"}:void 0]),1040,["title","modelValue","class","onClose","onOpen"])}const H=_(Xe,[["render",ve]]);H.install=function(t){t.component(H.name,H)};const et=e.defineComponent({name:"KBreadcrumb",props:{list:{type:Array,default:()=>[]}},components:{ElSpace:V.ElSpace},setup(t){const o=e.getCurrentInstance().appContext.config.globalProperties.$router;return{clickHandle:(c,i)=>{if(c.url){window.location.href=c.url;return}const d=i-t.list.length+1;c.path?o==null||o.push(c.path):d&&(o==null||o.go(d))}}}}),tt={class:"crumb-header flex-between"},nt={class:"crumb-contain"},ot=["onClick"];function lt(t,n,o,a,c,i){const d=e.resolveComponent("el-space");return e.openBlock(),e.createElementBlock("div",tt,[e.createElementVNode("div",nt,[e.createVNode(d,{spacer:"/"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.list,(l,s)=>(e.openBlock(),e.createElementBlock("span",{key:s,class:e.normalizeClass({"crumb-item":s!==t.list.length-1}),onClick:r=>t.clickHandle(l,s)},e.toDisplayString(l.title),11,ot))),128))]),_:1})]),e.renderSlot(t.$slots,"default",{},void 0,!0)])}const M=_(et,[["render",lt],["__scopeId","data-v-fbf3e6d2"]]);M.install=function(t){t.component(M.name,M)};const at=e.defineComponent({name:"KTabs",components:{ElTabs:V.ElTabs,ElTabPane:V.ElTabPane},props:{type:{type:String,default:""},isRouter:{type:Boolean,default:!1},modelValue:{type:[String,Number],default:""},isPadding:{type:Boolean,default:!0},replace:{type:Boolean,default:!1},tabsList:{type:Array,default:()=>[{label:"全部",name:"all"},{label:"正常",name:"normal"},{label:"已拉黑",name:"block"}]}},emits:["tab-click","change","update:modelValue"],setup(t,{emit:n}){const o=e.getCurrentInstance(),a=e.computed(()=>o.appContext.config.globalProperties.$route),c=o.appContext.config.globalProperties.$router,i=e.computed(()=>{var r,m;return((r=a.value)==null?void 0:r.params.type)||((m=a.value)==null?void 0:m.name)}),d=e.ref(i.value);e.watchEffect(()=>{d.value=t.modelValue||i.value,n("update:modelValue",d.value)});const l=e.computed(()=>a.value.query);return{activeName:d,handleClick:r=>{if(t.isRouter){const m={path:`${r.paneName}`,query:l.value};t.replace?c.replace(m):c.push(m)}n("tab-click",r.paneName),n("change",r.paneName),n("update:modelValue",r.paneName)}}}}),rt={class:"tabs-right ml10"};function st(t,n,o,a,c,i){const d=e.resolveComponent("el-tab-pane"),l=e.resolveComponent("el-tabs");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["k-tabs",{"style-card":!t.type,"style-padding":t.isPadding&&!t.type}])},[e.createVNode(l,e.mergeProps({class:"flex-tabs",type:t.type},t.$attrs,{modelValue:t.activeName,"onUpdate:modelValue":n[0]||(n[0]=s=>t.activeName=s),onTabClick:t.handleClick}),{addIcon:e.withCtx(()=>[e.renderSlot(t.$slots,"addIcon")]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tabsList,(s,r)=>(e.openBlock(),e.createBlock(d,{label:s.label,name:s.name,key:s.name},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"label",{row:s,index:r})]),_:2},1032,["label","name"]))),128))]),_:3},16,["type","modelValue","onTabClick"]),e.createElementVNode("div",rt,[e.renderSlot(t.$slots,"right"),e.renderSlot(t.$slots,"default")])],2)}const L=_(at,[["render",st]]);L.install=function(t){t.component(L.name,L)};const q=e.defineComponent({name:"KPicker",components:{batchTable:z,kInputNumber:D,Delete:ge,ElRow:V.ElRow,ElCol:V.ElCol,ElButton:V.ElButton,ElIcon:V.ElIcon,ElScrollbar:V.ElScrollbar,ElTooltip:V.ElTooltip},emits:["update:modelValue","update:page"],props:{modelValue:{type:Array,default:()=>[]},selectList:{type:Array,default:()=>[]},page:{type:Number,default:1},tableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},keyId:{type:String,default:"id"},keyName:{type:String,default:"name"},showCount:{type:Boolean,default:!1},height:{type:String,default:"442px"},scrollbarAlwaysOn:{type:Boolean,default:!1},rightWidth:{type:String,default:""}},setup(t,{emit:n}){const o=e.computed({get:()=>t.modelValue,set:f=>n("update:modelValue",f)});e.watchEffect(()=>{t.showCount&&o.value.forEach(f=>{f.num=f.num??1})});const a=e.ref(null),c=()=>a.value.toggleSelection(),i=f=>a.value.handleRowClick(f),d=e.ref(1),l=()=>{d.value=1,c()},s=f=>f[t.keyName],r=f=>f[t.keyId],m=e.computed(()=>t.rightWidth),u=e.computed(()=>t.height);return{multipleSelection:o,batchTableRef:a,currentPage:d,emptyHandler:c,resetData:l,deleteHandler:i,getName:s,getId:r,rightwidth:m,autoheight:u}}}),v=()=>{e.useCssVars(t=>({"40a8486d":t.autoheight,"39df13fe":t.rightwidth}))},ee=q.setup;q.setup=ee?(t,n)=>(v(),ee(t,n)):v;const ct={class:"k-picker flex-column"},dt={class:"col-left height-auto flex-column"},it={class:"selete-header flex-between"},ut={class:"selete-content flex1"},pt={class:"flex flex1 mr20 overflow"},mt={class:"text-overflow"};function ft(t,n,o,a,c,i){const d=e.resolveComponent("batchTable"),l=e.resolveComponent("el-col"),s=e.resolveComponent("delete"),r=e.resolveComponent("el-icon"),m=e.resolveComponent("el-button"),u=e.resolveComponent("el-tooltip"),f=e.resolveComponent("k-input-number"),g=e.resolveComponent("el-scrollbar"),C=e.resolveComponent("el-row");return e.openBlock(),e.createElementBlock("div",ct,[e.renderSlot(t.$slots,"top",{},void 0,!0),e.createVNode(C,{gutter:10,class:e.normalizeClass(["height-auto mb20",{"custom-right":t.rightWidth}])},{default:e.withCtx(()=>[e.createVNode(l,{span:15,class:"height-auto flex1"},{default:e.withCtx(()=>[e.createElementVNode("div",dt,[e.createVNode(d,{ref:"batchTableRef","show-footer":!1,height:t.height,"table-data":t.tableData,"table-column":t.tableColumn,"select-list":t.selectList,"key-id":t.keyId,modelValue:t.multipleSelection,"onUpdate:modelValue":n[0]||(n[0]=y=>t.multipleSelection=y),page:t.currentPage,"onUpdate:page":n[1]||(n[1]=y=>t.currentPage=y),"scrollbar-always-on":t.scrollbarAlwaysOn},{header:e.withCtx(({column:y})=>[e.renderSlot(t.$slots,y.header,{column:y},void 0,!0)]),default:e.withCtx(({row:y,column:h,index:b})=>[h.custom&&b>=0?e.renderSlot(t.$slots,h.custom,{key:0,row:y,index:b},void 0,!0):e.createCommentVNode("",!0)]),_:3},8,["height","table-data","table-column","select-list","key-id","modelValue","page","scrollbar-always-on"])])]),_:3}),e.createVNode(l,{span:9,class:"height-auto flex-column flex1"},{default:e.withCtx(()=>[e.createElementVNode("div",{class:"col-right flex-column height-auto",style:e.normalizeStyle({height:t.height})},[e.renderSlot(t.$slots,"right",{},()=>[e.createElementVNode("div",it,[e.renderSlot(t.$slots,"right-header",{},()=>[e.createElementVNode("span",null,[e.createTextVNode("已选择"),e.createElementVNode("span",null,"("+e.toDisplayString(t.multipleSelection.length)+")",1)]),e.createVNode(m,{type:"primary",text:"",disabled:!t.multipleSelection.length,onClick:t.emptyHandler},{default:e.withCtx(()=>[e.createVNode(r,null,{default:e.withCtx(()=>[e.createVNode(s)]),_:1}),e.createTextVNode(" 清空 ")]),_:1},8,["disabled","onClick"])],!0)]),e.createElementVNode("div",ut,[e.createVNode(g,{always:""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.multipleSelection,y=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["flex-between pl10 pr10",{mt10:t.showCount}]),key:t.getId(y)},[e.createElementVNode("div",pt,[e.createVNode(u,{effect:"dark",content:t.getName(y),placement:"top"},{default:e.withCtx(()=>[e.createElementVNode("span",mt,e.toDisplayString(t.getName(y)),1)]),_:2},1032,["content"])]),t.showCount?(e.openBlock(),e.createBlock(f,{key:0,modelValue:y.num,"onUpdate:modelValue":h=>y.num=h,min:1,class:"width-120 flex-shrink mr10"},null,8,["modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0),e.createVNode(m,{type:"primary",text:"",onClick:h=>t.deleteHandler(y)},{default:e.withCtx(()=>[e.createTextVNode(" 删除 ")]),_:2},1032,["onClick"])],2))),128))]),_:1})])],!0)],4)]),_:3})]),_:3},8,["class"]),e.renderSlot(t.$slots,"footer",{},void 0,!0)])}const A=_(q,[["render",ft],["__scopeId","data-v-c677d563"]]);A.install=function(t){t.component(A.name,A)};const ht=e.defineComponent({name:"KTooltip",props:{placement:{type:String,default:"top"},showIcon:{type:Boolean,default:!1},overflow:{type:Boolean,default:!1}},components:{Warning:$e,ElTooltip:V.ElTooltip}});function gt(t,n,o,a,c,i){const d=e.resolveComponent("warning"),l=e.resolveComponent("el-icon"),s=e.resolveComponent("el-tooltip");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["flex flex1",{"text-overflow":t.overflow}])},[e.createVNode(s,e.mergeProps(t.$attrs,{placement:t.placement}),{content:e.withCtx(()=>[e.renderSlot(t.$slots,"content",{},void 0,!0)]),default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["flex-center",{"text-overflow":t.overflow}])},[e.renderSlot(t.$slots,"default",{},void 0,!0),t.showIcon?(e.openBlock(),e.createBlock(l,{key:0,class:"ml5"},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"icon",{},()=>[e.createVNode(d)],!0)]),_:3})):e.createCommentVNode("",!0)],2)]),_:3},16,["placement"])],2)}const P=_(ht,[["render",gt],["__scopeId","data-v-734f22cf"]]);P.install=function(t){t.component(P.name,P)};const yt={__name:"main",setup(t){return(n,o)=>(e.openBlock(),e.createBlock(e.unref(V.ElConfigProvider),{locale:e.unref(X)},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["locale"]))}},te={__name:"datePicker",props:{type:{type:String,default:"daterange"},modelValue:{type:[String,Array],default:()=>[]}},emits:["change","update:modelValue"],setup(t,{emit:n}){const o=t,a=e.computed(()=>o.type==="datetimerange"?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"),c=u=>{const f=new Date,g=new Date;return f.setTime(f.getTime()-3600*1e3*24*u),f.setHours(0,0,0,0),g.setHours(23,59,59,999),o.type==="date"?f:[f,g]},i=[{text:"最近一周",value:()=>c(7)},{text:"最近一个月",value:()=>c(30)},{text:"最近三个月",value:()=>c(90)}],d=[new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)],l=n,s=e.computed({get:()=>o.modelValue,set:u=>l("update:modelValue",u)}),r=u=>u.getTime()>Date.now(),m=u=>l("change",u);return(u,f)=>(e.openBlock(),e.createBlock(e.unref(V.ElDatePicker),e.mergeProps({modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=g=>s.value=g),type:t.type,"unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",shortcuts:i,format:a.value,"value-format":"YYYY-MM-DD HH:mm:ss","disabled-date":r,"default-time":d,editable:!1},u.$attrs,{onChange:m}),null,16,["modelValue","type","format"]))}},bt={class:"date-picker flex"},kt={__name:"selectType",props:{daterange:{type:Boolean,default:!1},modelValue:{type:[String,Array],default:()=>[]}},emits:["change","update:modelValue"],setup(t,{emit:n}){const o=t,a=e.ref(0),c=e.ref([{value:0,label:"日"},{value:1,label:"周"},{value:2,label:"月"},{value:3,label:"年"}]),i=e.computed({get:()=>o.modelValue,set:C=>m("update:modelValue",C)}),d=C=>C.getTime()>Date.now(),l=e.computed(()=>({0:"YYYY-MM-DD",1:"YYYY 第 ww 周",2:"YYYY-MM",3:"YYYY"})[a.value]),s=e.computed(()=>({0:o.daterange?"daterange":"date",1:"week",2:"month",3:"year"})[a.value]),r=e.computed(()=>{const{label:C}=c.value.filter(y=>y.value===a.value)[0];return`选择${C}`}),m=n,u=e.ref("");e.watchEffect(()=>{if(Array.isArray(i.value)){const[C,y]=i.value;u.value=[C,y]}});const f=C=>{if(C){if(Array.isArray(i.value)){const[y]=i.value;i.value=y}}else o.daterange&&(i.value=u.value);g()},g=()=>{m("change",{type:a.value,time:i.value})};return(C,y)=>{const h=e.resolveComponent("el-option"),b=e.resolveComponent("el-select"),w=e.resolveComponent("el-date-picker");return e.openBlock(),e.createElementBlock("div",bt,[e.createVNode(b,{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=p=>a.value=p),class:"width-100 mr10",onChange:f},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,p=>(e.openBlock(),e.createBlock(h,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createElementVNode("div",null,[t.daterange&&!a.value?(e.openBlock(),e.createBlock(te,e.mergeProps({key:0,modelValue:i.value,"onUpdate:modelValue":y[1]||(y[1]=p=>i.value=p)},C.$props,{onChange:g}),null,16,["modelValue"])):(e.openBlock(),e.createBlock(w,{key:1,modelValue:i.value,"onUpdate:modelValue":y[2]||(y[2]=p=>i.value=p),type:s.value,format:l.value,"value-format":"YYYY-MM-DD HH:mm:ss",placeholder:r.value,"disabled-date":d,clearable:!1,editable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期",onChange:g},null,8,["modelValue","type","format","placeholder"]))])])}}},Ct=e.defineComponent({name:"KDatePicker",props:{selectType:{type:Boolean,default:!1}},components:{configProvider:yt,selectType:kt,datePicker:te},setup(){}});function wt(t,n,o,a,c,i){const d=e.resolveComponent("selectType"),l=e.resolveComponent("datePicker"),s=e.resolveComponent("config-provider");return e.openBlock(),e.createBlock(s,null,{default:e.withCtx(()=>[t.selectType?(e.openBlock(),e.createBlock(d,e.normalizeProps(e.mergeProps({key:0},t.$attrs)),null,16)):(e.openBlock(),e.createBlock(l,e.normalizeProps(e.mergeProps({key:1},t.$attrs)),null,16))]),_:1})}const R=_(Ct,[["render",wt]]);R.install=function(t){t.component(R.name,R)};const G=e.defineComponent({name:"KNumberKeyboard",components:{ElButton:V.ElButton},props:{modelValue:{type:[String,Number],default:""},width:{type:Number,default:60},color:{type:String,default:""},maxlength:{type:[String,Number],default:0},precision:{type:Number,default:2},decimalPoint:{type:Boolean,default:!1},startZero:{type:Boolean,default:!0}},emits:["update:modelValue","change","clear","confirm"],setup(t,{emit:n}){const o=[{name:7},{name:8},{name:9},{name:"删除",key:"delete"},{name:4},{name:5},{name:6},{name:"清空",key:"clear"},{name:1},{name:2},{name:3},{name:"确认",key:"confirm",class:"confirm-class",type:"primary"},{name:0,class:"zero-class"}],a=e.computed(()=>(t.decimalPoint&&o.push({name:"."}),o)),c=e.computed({get:()=>t.modelValue,set:f=>n("update:modelValue",f)}),i=()=>{e.nextTick(()=>n("change",c.value))},d=f=>{if(t.maxlength&&c.value.length>=Number(t.maxlength))return;const g=c.value.indexOf("."),C=c.value.split(".");C.length===2&&(f==="."||C[1].length>=t.precision)||(c.value=`${g===0?0:""}${c.value}${f}`,!t.startZero&&c.value.slice(0,1)==="0"&&(c.value=c.value.slice(1)+f),i())},l=f=>{f==="delete"?c.value=c.value.slice(0,c.value.length-1):f==="clear"&&(c.value="",n("clear")),f==="confirm"?n("confirm"):i()},s=({key:f,name:g})=>{f?l(f):d(g)},r=e.computed(()=>`${Number(4*t.width+20)}px`),m=e.computed(()=>`${t.width}px`),u=e.computed(()=>t.decimalPoint?3:4);return{keyboardList:a,clickHandleBtn:s,clickBtn:d,totalwidth:r,gridwidth:m,numberVal:c,zerogridend:u}}}),ne=()=>{e.useCssVars(t=>({"5f76155e":t.totalwidth,af867fde:t.gridwidth,c0d11484:t.zerogridend}))},oe=G.setup;G.setup=oe?(t,n)=>(ne(),oe(t,n)):ne;const $t={class:"number-keyboard mt10"},Et={class:"number-ul"};function Vt(t,n,o,a,c,i){const d=e.resolveComponent("el-button");return e.openBlock(),e.createElementBlock("div",$t,[e.createElementVNode("ul",Et,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.keyboardList,(l,s)=>(e.openBlock(),e.createElementBlock("li",{key:s,class:e.normalizeClass(l.class)},[e.createVNode(d,{type:l.type,color:t.color,onClick:r=>t.clickHandleBtn(l)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.name),1)]),_:2},1032,["type","color","onClick"])],2))),128))])])}const Y=_(G,[["render",Vt],["__scopeId","data-v-2e1be318"]]);Y.install=function(t){t.component(Y.name,Y)};const _t=e.defineComponent({name:"KAutoCounter",props:{modelValue:{type:[Number,String],default:0},start:{type:Number,default:0},end:{type:Number,default:1/0},autoinit:{type:Boolean,default:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},decimals:{type:Number,default:0}},emits:["update:modelValue"],setup(t,{emit:n}){const o=e.computed({get:()=>t.modelValue,set:l=>n("update:modelValue",l)}),a=l=>t.decimals?Number(l).toFixed(t.decimals):l,c=e.ref(null),i=(l=!0)=>{const s=c.value;if(!s)return;const r=+s.innerText,m=+o.value/200,u=l&&r<Number(o.value)||!l&&r>Number(o.value);l&&r>t.end||r<t.start||(u?d(s,l?r+m:r-m,l):s.interText=a(o.value))},d=(l,s,r=!0)=>{const m=s<t.start?t.start:`${t.decimals?s:Math.floor(s)}`,u=s>t.end?t.end:`${t.decimals?s:Math.ceil(s)}`;l.innerText=a(r?u:m);const f=setTimeout(()=>{clearTimeout(f),r?i():i(!1)},5)};return e.onMounted(()=>{c.value&&t.autoinit&&i()}),e.onUpdated(()=>{if(t.autoinit){const l=+c.value.innerText;i(l<Number(o.value))}}),{textValue:o,spanText:c,setDeimals:a}}}),Bt={class:"auto-counter"},St={class:"mr5"},Nt={class:"ml5"};function Tt(t,n,o,a,c,i){return e.openBlock(),e.createElementBlock("div",Bt,[e.createElementVNode("span",St,e.toDisplayString(t.prefix),1),e.createElementVNode("span",{class:"span-text",ref:"spanText"},e.toDisplayString(t.autoinit?t.setDeimals(t.start):t.setDeimals(t.textValue)),513),e.createElementVNode("span",Nt,e.toDisplayString(t.suffix),1)])}const O=_(_t,[["render",Tt]]);O.install=function(t){t.component(O.name,O)};const Dt=e.defineComponent({name:"KCollapseButton",components:{ElIcon:V.ElIcon,CaretLeft:pe,CaretRight:fe},props:{style:{type:Object,default:()=>({})},position:{type:String,default:"right"}},emits:["click"],setup(t,{emit:n,slots:o}){const a=e.ref(!1),c=e.ref(null);e.onMounted(()=>{const{parentNode:l}=c.value;l.style.position="relative",l.style.overflow="initial"});const i=e.computed(()=>{const{clientWidth:l,clientHeight:s}=c.value||{},{top:r,right:m,width:u,height:f,left:g,bottom:C}=t.style,y={right:{top:r??"50%",right:m??`-${l}px`,borderRadius:"0 5px 5px 0",marginTop:r?"0px":`-${Math.ceil(s/2)}px`},left:{top:r??"50%",left:g??`-${l}px`,borderRadius:"0 5px 5px 0",marginTop:r?"0px":`-${Math.ceil(s/2)}px`,transform:o!=null&&o.default?"":"rotate(180deg)"},top:{left:g??"50%",marginLeft:g??(o==null?void 0:o.default)?`-${Math.ceil(l/2)}px`:"0px",top:r??(o==null?void 0:o.default)?`-${s}px`:`-${Math.ceil(s/2+l/2)}px`,borderRadius:o!=null&&o.default?"5px 5px 0 0":"0 5px 5px 0",transform:o!=null&&o.default?"":"rotate(-90deg)"},bottom:{left:g??"50%",bottom:C??(o==null?void 0:o.default)?`-${s}px`:`-${Math.ceil(s/2+l/2)}px`,marginLeft:g??(o==null?void 0:o.default)?`-${Math.ceil(l/2)}px`:"0px",borderRadius:o!=null&&o.default?"0 0 5px 5px":" 0 5px 5px 0",transform:o!=null&&o.default?"":"rotate(90deg)"}};return{width:u??(o==null?void 0:o.default)?"":"10px",height:f??(o==null?void 0:o.default)?"":"68px",...y[t.position]}});return{isCollapse:a,collapse:c,clickHandle:()=>{a.value=!a.value,n("click")},collapseStyle:i}}});function It(t,n,o,a,c,i){const d=e.resolveComponent("CaretRight"),l=e.resolveComponent("CaretLeft"),s=e.resolveComponent("el-icon");return e.openBlock(),e.createElementBlock("div",{class:"collapse-button flex-center pointer",style:e.normalizeStyle(t.collapseStyle),ref:"collapse",onClick:n[0]||(n[0]=(...r)=>t.clickHandle&&t.clickHandle(...r))},[e.renderSlot(t.$slots,"default",{},()=>[e.createVNode(s,{size:18,color:"#999999"},{default:e.withCtx(()=>[t.isCollapse?(e.openBlock(),e.createBlock(d,{key:0})):(e.openBlock(),e.createBlock(l,{key:1}))]),_:1})],!0)],4)}const j=_(Dt,[["render",It],["__scopeId","data-v-53ad025a"]]);j.install=function(t){t.component(j.name,j)};const zt={modelValue:{type:[String,Number],default:""},data:{type:Array,default:()=>[]},width:{type:String,default:""},columns:{type:Number,default:5},fixedColumn:{type:Boolean,default:!1},gridGap:{type:Number,default:20},disabled:{type:Boolean,default:!1},keyId:{type:String,default:"id"},highlight:{type:Boolean,default:!1},rowClass:{type:[String,Object],default:"border"}};function xt(t,n){const o=e.ref(null),a=e.ref(100),c=e.ref(null),i=()=>{var w;return((w=document.querySelector(".card-row"))==null?void 0:w.offsetHeight)??10},d=()=>{var w;return((w=document.querySelector(".card-row"))==null?void 0:w.offsetWidth)??10},l=e.ref(0),s=e.ref(20),r=e.ref(0),m=e.ref(t.columns),u=w=>Math.ceil(w/i()),f=()=>{const{clientHeight:w=100}=o.value.wrapRef||{};return Math.floor(w/(i()+t.gridGap))+l.value||1},g=e.computed(()=>t.data.map((w,p)=>({...w,rowIndex:p}))),C=e.computed(()=>g.value.filter((w,p)=>p>=l.value*m.value&&p<s.value*m.value)),y=()=>{const w=m.value*t.gridGap;a.value=Math.ceil(t.data.length/m.value*i())+w},h=w=>{const{scrollTop:p,clientHeight:$}=o.value.wrapRef,k=a.value-$-p;n("scroll",{distance:k,...w}),l.value=u(p),s.value=f(),r.value=p};e.watch(()=>t.data,()=>{y(),s.value=f()});const b=()=>{if(c.value){const{clientWidth:w=500}=o.value.wrapRef;m.value=Math.floor(w/d())||1,y(),r.value=0,l.value=0,o.value.setScrollTop(0),s.value=f()}};return e.onMounted(()=>{b(),window.addEventListener("resize",b)}),e.onUnmounted(()=>{window.removeEventListener("resize",b)}),{scrollbarRef:o,containHeight:a,cardRowRef:c,onScroll:h,startOffset:r,viewListRanges:C,resetViewport:b}}const Z=e.defineComponent({name:"KCardList",props:zt,components:{ElScrollbar:V.ElScrollbar},emits:["click","mouseenter","mouseleave","update:modelValue","scroll"],setup(t,{emit:n}){const o=e.computed(()=>`${Number((100/t.columns).toFixed(1))}%`),a=e.computed(()=>`${t.gridGap}px`),c=e.computed(()=>`${t.width}`),i=h=>h.disabled||t.disabled,d=e.computed(()=>t.rowClass==="border"?"border-row":t.rowClass==="shadow"?"box-shadow":t.rowClass),l=e.ref("");e.watchEffect(()=>{l.value=t.modelValue});const s=h=>{i(h)||(t.highlight&&(l.value=h[t.keyId],n("update:modelValue",h[t.keyId])),n("click",h))},{scrollbarRef:r,containHeight:m,cardRowRef:u,startOffset:f,viewListRanges:g,onScroll:C,resetViewport:y}=xt(t,n);return{calcnum:o,gridgap:a,columnwidth:c,rowClassStyle:d,clickHandle:s,selectedId:l,bitNotAllowed:i,scrollbarRef:r,containHeight:m,cardRowRef:u,startOffset:f,viewListRanges:g,onScroll:C,resetViewport:y}}}),le=()=>{e.useCssVars(t=>({a9602a90:t.gridgap,"5a6ae676":t.columns,"8a42ec0e":t.calcnum,"1de64118":t.columnwidth,"55dd34dc":t.imgheight}))},ae=Z.setup;Z.setup=ae?(t,n)=>(le(),ae(t,n)):le;const Ft={class:"card-contain"},Kt=["onClick","onMouseenter","onMouseleave"],Ht={class:"card-list-content"},Mt={class:"sign"};function Lt(t,n,o,a,c,i){const d=e.resolveComponent("el-scrollbar");return e.openBlock(),e.createBlock(d,e.mergeProps({ref:"scrollbarRef","data-test":"card-list"},t.$attrs,{always:"",onScroll:t.onScroll}),{default:e.withCtx(()=>[e.createElementVNode("div",Ft,[e.createElementVNode("div",{class:"card-wrap",style:e.normalizeStyle({height:`${t.containHeight}px`})},null,4),e.createElementVNode("div",{class:"card-list",style:e.normalizeStyle({transform:`translate3d(0,${t.startOffset}px,0)`})},[e.createElementVNode("div",{class:e.normalizeClass([t.fixedColumn?"card-fixed-coumn":"card-content",{"fixed-width":t.width}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.viewListRanges,(l,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["card-row border-radius pointer",[t.selectedId===l[t.keyId]?"select-style":"",t.bitNotAllowed(l)?"not-allowed":"hover-style",t.rowClassStyle]]),key:s,onClick:r=>t.clickHandle(l),ref_for:!0,ref:"cardRowRef",onMouseenter:r=>t.$emit("mouseenter",l),onMouseleave:r=>t.$emit("mouseleave",l)},[e.createElementVNode("div",Ht,[e.renderSlot(t.$slots,"default",{row:l,index:l.rowIndex},()=>[e.createTextVNode(e.toDisplayString(l.rowIndex),1)],!0)]),e.createElementVNode("div",Mt,[e.renderSlot(t.$slots,"sign",{row:l,index:l.rowIndex},void 0,!0)])],42,Kt))),128))],2)],4)])]),_:3},16,["onScroll"])}const U=_(Z,[["render",Lt],["__scopeId","data-v-fe95936c"]]);U.install=function(t){t.component(U.name,U)};const W={KButton:x,KInput:T,KInputNumber:D,KTable:F,KTableV2:K,KPage:S,KBatchTable:z,KDialog:H,KBreadcrumb:M,KTabs:L,KPicker:A,KTooltip:P,KDatePicker:R,KNumberKeyboard:Y,KVirtualList:I,KAutoCounter:O,KCollapseButton:j,KCardList:U,install:()=>{}};function At(t,n,o=0){return t.substr(o,n.length)===n}W.install=function(t){Object.keys(W).forEach(n=>{if(At(n,"K")){const o=W[n];t.component(o.name,o)}}),Object.keys(N).forEach(n=>{t.directive(n,N[n])})},E.KAutoCounter=O,E.KBatchTable=z,E.KBreadcrumb=M,E.KButton=x,E.KCardList=U,E.KCollapseButton=j,E.KDatePicker=R,E.KDialog=H,E.KInput=T,E.KInputNumber=D,E.KNumberKeyboard=Y,E.KPage=S,E.KPicker=A,E.KTable=F,E.KTableV2=K,E.KTabs=L,E.KTooltip=P,E.KUI=W,E.KVirtualList=I,E.directives=N,Object.defineProperty(E,Symbol.toStringTag,{value:"Module"})});
