(function(E,m){typeof exports=="object"&&typeof module!="undefined"?m(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],m):(E=typeof globalThis!="undefined"?globalThis:E||self,m(E["k-use"]={},E.Vue))})(this,function(E,m){"use strict";function Ee(){const t=m.getCurrentInstance(),{globalProperties:e}=t.appContext.config,{$route:r,$router:n,$pinia:s,$store:o}=e,c=r,i=n,a=m.computed(()=>c.name),p=(l,d)=>{d?i.push({path:l,...d}):l.includes("/")?i.push(l):i.push({name:l})},v=(l,d)=>{d?i.replace({path:l,...d}):l.includes("/")?i.replace(l):i.replace({name:l})},h=m.computed(()=>!1);return{route:c,router:i,nextTick:m.nextTick,ref:m.ref,reactive:m.reactive,computed:m.computed,watch:m.watch,watchEffect:m.watchEffect,onMounted:m.onMounted,onUnmounted:m.onUnmounted,routerName:a,loadPage:p,isDev:h,replacePage:v,pinia:s,store:o,globalProperties:e}}var q={exports:{}},G=function(e,r){return function(){for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];return e.apply(r,s)}},xe=G,S=Object.prototype.toString;function F(t){return S.call(t)==="[object Array]"}function M(t){return typeof t=="undefined"}function Ce(t){return t!==null&&!M(t)&&t.constructor!==null&&!M(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Se(t){return S.call(t)==="[object ArrayBuffer]"}function Pe(t){return typeof FormData!="undefined"&&t instanceof FormData}function Te(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Oe(t){return typeof t=="string"}function $e(t){return typeof t=="number"}function Y(t){return t!==null&&typeof t=="object"}function A(t){if(S.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Ae(t){return S.call(t)==="[object Date]"}function Ne(t){return S.call(t)==="[object File]"}function Re(t){return S.call(t)==="[object Blob]"}function Z(t){return S.call(t)==="[object Function]"}function ke(t){return Y(t)&&Z(t.pipe)}function je(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function Ue(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Be(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function H(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),F(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function I(){var t={};function e(s,o){A(t[o])&&A(s)?t[o]=I(t[o],s):A(s)?t[o]=I({},s):F(s)?t[o]=s.slice():t[o]=s}for(var r=0,n=arguments.length;r<n;r++)H(arguments[r],e);return t}function De(t,e,r){return H(e,function(s,o){r&&typeof s=="function"?t[o]=xe(s,r):t[o]=s}),t}function Le(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var b={isArray:F,isArrayBuffer:Se,isBuffer:Ce,isFormData:Pe,isArrayBufferView:Te,isString:Oe,isNumber:$e,isObject:Y,isPlainObject:A,isUndefined:M,isDate:Ae,isFile:Ne,isBlob:Re,isFunction:Z,isStream:ke,isURLSearchParams:je,isStandardBrowserEnv:Be,forEach:H,merge:I,extend:De,trim:Ue,stripBOM:Le},P=b;function Q(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ee=function(e,r,n){if(!r)return e;var s;if(n)s=n(r);else if(P.isURLSearchParams(r))s=r.toString();else{var o=[];P.forEach(r,function(a,p){a===null||typeof a=="undefined"||(P.isArray(a)?p=p+"[]":a=[a],P.forEach(a,function(h){P.isDate(h)?h=h.toISOString():P.isObject(h)&&(h=JSON.stringify(h)),o.push(Q(p)+"="+Q(h))}))}),s=o.join("&")}if(s){var c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},qe=b;function N(){this.handlers=[]}N.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1},N.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},N.prototype.forEach=function(e){qe.forEach(this.handlers,function(n){n!==null&&e(n)})};var Fe=N,Me=b,He=function(e,r){Me.forEach(e,function(s,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=s,delete e[o])})},te=function(e,r,n,s,o){return e.config=r,n&&(e.code=n),e.request=s,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},Ie=te,re=function(e,r,n,s,o){var c=new Error(e);return Ie(c,r,n,s,o)},_e=re,Je=function(e,r,n){var s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):r(_e("Request failed with status code "+n.status,n.config,null,n.request,n))},R=b,ze=R.isStandardBrowserEnv()?function(){return{write:function(r,n,s,o,c,i){var a=[];a.push(r+"="+encodeURIComponent(n)),R.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),R.isString(o)&&a.push("path="+o),R.isString(c)&&a.push("domain="+c),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ve=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},Ke=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},We=Ve,Xe=Ke,Ge=function(e,r){return e&&!We(r)?Xe(e,r):r},_=b,Ye=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ze=function(e){var r={},n,s,o;return e&&_.forEach(e.split(`
`),function(i){if(o=i.indexOf(":"),n=_.trim(i.substr(0,o)).toLowerCase(),s=_.trim(i.substr(o+1)),n){if(r[n]&&Ye.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([s]):r[n]=r[n]?r[n]+", "+s:s}}),r},ne=b,Qe=ne.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function s(o){var c=o;return e&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(c){var i=ne.isString(c)?s(c):c;return i.protocol===n.protocol&&i.host===n.host}}():function(){return function(){return!0}}(),k=b,et=Je,tt=ze,rt=ee,nt=Ge,st=Ze,at=Qe,J=re,se=function(e){return new Promise(function(n,s){var o=e.data,c=e.headers,i=e.responseType;k.isFormData(o)&&delete c["Content-Type"];var a=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";c.Authorization="Basic "+btoa(p+":"+v)}var h=nt(e.baseURL,e.url);a.open(e.method.toUpperCase(),rt(h,e.params,e.paramsSerializer),!0),a.timeout=e.timeout;function l(){if(!!a){var C="getAllResponseHeaders"in a?st(a.getAllResponseHeaders()):null,u=!i||i==="text"||i==="json"?a.responseText:a.response,f={data:u,status:a.status,statusText:a.statusText,headers:C,config:e,request:a};et(n,s,f),a=null}}if("onloadend"in a?a.onloadend=l:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(l)},a.onabort=function(){!a||(s(J("Request aborted",e,"ECONNABORTED",a)),a=null)},a.onerror=function(){s(J("Network Error",e,null,a)),a=null},a.ontimeout=function(){var u="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(u=e.timeoutErrorMessage),s(J(u,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",a)),a=null},k.isStandardBrowserEnv()){var d=(e.withCredentials||at(h))&&e.xsrfCookieName?tt.read(e.xsrfCookieName):void 0;d&&(c[e.xsrfHeaderName]=d)}"setRequestHeader"in a&&k.forEach(c,function(u,f){typeof o=="undefined"&&f.toLowerCase()==="content-type"?delete c[f]:a.setRequestHeader(f,u)}),k.isUndefined(e.withCredentials)||(a.withCredentials=!!e.withCredentials),i&&i!=="json"&&(a.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&a.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(u){!a||(a.abort(),s(u),a=null)}),o||(o=null),a.send(o)})},g=b,ae=He,ot=te,it={"Content-Type":"application/x-www-form-urlencoded"};function oe(t,e){!g.isUndefined(t)&&g.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function ut(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=se),t}function ct(t,e,r){if(g.isString(t))try{return(e||JSON.parse)(t),g.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var j={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:ut(),transformRequest:[function(e,r){return ae(r,"Accept"),ae(r,"Content-Type"),g.isFormData(e)||g.isArrayBuffer(e)||g.isBuffer(e)||g.isStream(e)||g.isFile(e)||g.isBlob(e)?e:g.isArrayBufferView(e)?e.buffer:g.isURLSearchParams(e)?(oe(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):g.isObject(e)||r&&r["Content-Type"]==="application/json"?(oe(r,"application/json"),ct(e)):e}],transformResponse:[function(e){var r=this.transitional,n=r&&r.silentJSONParsing,s=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||s&&g.isString(e)&&e.length)try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?ot(c,this,"E_JSON_PARSE"):c}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};j.headers={common:{Accept:"application/json, text/plain, */*"}},g.forEach(["delete","get","head"],function(e){j.headers[e]={}}),g.forEach(["post","put","patch"],function(e){j.headers[e]=g.merge(it)});var z=j,lt=b,ft=z,dt=function(e,r,n){var s=this||ft;return lt.forEach(n,function(c){e=c.call(s,e,r)}),e},ie=function(e){return!!(e&&e.__CANCEL__)},ue=b,V=dt,pt=ie,ht=z;function K(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var mt=function(e){K(e),e.headers=e.headers||{},e.data=V.call(e,e.data,e.headers,e.transformRequest),e.headers=ue.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ue.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var r=e.adapter||ht.adapter;return r(e).then(function(s){return K(e),s.data=V.call(e,s.data,s.headers,e.transformResponse),s},function(s){return pt(s)||(K(e),s&&s.response&&(s.response.data=V.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},y=b,ce=function(e,r){r=r||{};var n={},s=["url","method","data"],o=["headers","auth","proxy","params"],c=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],i=["validateStatus"];function a(l,d){return y.isPlainObject(l)&&y.isPlainObject(d)?y.merge(l,d):y.isPlainObject(d)?y.merge({},d):y.isArray(d)?d.slice():d}function p(l){y.isUndefined(r[l])?y.isUndefined(e[l])||(n[l]=a(void 0,e[l])):n[l]=a(e[l],r[l])}y.forEach(s,function(d){y.isUndefined(r[d])||(n[d]=a(void 0,r[d]))}),y.forEach(o,p),y.forEach(c,function(d){y.isUndefined(r[d])?y.isUndefined(e[d])||(n[d]=a(void 0,e[d])):n[d]=a(void 0,r[d])}),y.forEach(i,function(d){d in r?n[d]=a(e[d],r[d]):d in e&&(n[d]=a(void 0,e[d]))});var v=s.concat(o).concat(c).concat(i),h=Object.keys(e).concat(Object.keys(r)).filter(function(d){return v.indexOf(d)===-1});return y.forEach(h,p),n},vt={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]},le=vt,W={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){W[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var fe={},gt=le.version.split(".");function de(t,e){for(var r=e?e.split("."):gt,n=t.split("."),s=0;s<3;s++){if(r[s]>n[s])return!0;if(r[s]<n[s])return!1}return!1}W.transitional=function(e,r,n){var s=r&&de(r);function o(c,i){return"[Axios v"+le.version+"] Transitional option '"+c+"'"+i+(n?". "+n:"")}return function(c,i,a){if(e===!1)throw new Error(o(i," has been removed in "+r));return s&&!fe[i]&&(fe[i]=!0,console.warn(o(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(c,i,a):!0}};function yt(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),s=n.length;s-- >0;){var o=n[s],c=e[o];if(c){var i=t[o],a=i===void 0||c(i,o,t);if(a!==!0)throw new TypeError("option "+o+" must be "+a);continue}if(r!==!0)throw Error("Unknown option "+o)}}var wt={isOlderVersion:de,assertOptions:yt,validators:W},pe=b,bt=ee,he=Fe,me=mt,U=ce,ve=wt,T=ve.validators;function $(t){this.defaults=t,this.interceptors={request:new he,response:new he}}$.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=U(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&ve.assertOptions(r,{silentJSONParsing:T.transitional(T.boolean,"1.0.0"),forcedJSONParsing:T.transitional(T.boolean,"1.0.0"),clarifyTimeoutError:T.transitional(T.boolean,"1.0.0")},!1);var n=[],s=!0;this.interceptors.request.forEach(function(l){typeof l.runWhen=="function"&&l.runWhen(e)===!1||(s=s&&l.synchronous,n.unshift(l.fulfilled,l.rejected))});var o=[];this.interceptors.response.forEach(function(l){o.push(l.fulfilled,l.rejected)});var c;if(!s){var i=[me,void 0];for(Array.prototype.unshift.apply(i,n),i=i.concat(o),c=Promise.resolve(e);i.length;)c=c.then(i.shift(),i.shift());return c}for(var a=e;n.length;){var p=n.shift(),v=n.shift();try{a=p(a)}catch(h){v(h);break}}try{c=me(a)}catch(h){return Promise.reject(h)}for(;o.length;)c=c.then(o.shift(),o.shift());return c},$.prototype.getUri=function(e){return e=U(this.defaults,e),bt(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},pe.forEach(["delete","get","head","options"],function(e){$.prototype[e]=function(r,n){return this.request(U(n||{},{method:e,url:r,data:(n||{}).data}))}}),pe.forEach(["post","put","patch"],function(e){$.prototype[e]=function(r,n,s){return this.request(U(s||{},{method:e,url:r,data:n}))}});var Et=$;function X(t){this.message=t}X.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},X.prototype.__CANCEL__=!0;var ge=X,xt=ge;function B(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(s){e=s});var r=this;t(function(s){r.reason||(r.reason=new xt(s),e(r.reason))})}B.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},B.source=function(){var e,r=new B(function(s){e=s});return{token:r,cancel:e}};var Ct=B,St=function(e){return function(n){return e.apply(null,n)}},Pt=function(e){return typeof e=="object"&&e.isAxiosError===!0},ye=b,Tt=G,D=Et,Ot=ce,$t=z;function we(t){var e=new D(t),r=Tt(D.prototype.request,e);return ye.extend(r,D.prototype,e),ye.extend(r,e),r}var x=we($t);x.Axios=D,x.create=function(e){return we(Ot(x.defaults,e))},x.Cancel=ge,x.CancelToken=Ct,x.isCancel=ie,x.all=function(e){return Promise.all(e)},x.spread=St,x.isAxiosError=Pt,q.exports=x,q.exports.default=x;var At=q.exports;function be(){const t=m.getCurrentInstance(),{globalProperties:e}=t.appContext.config,{$message:r,$messageBox:n}=e,s=(i,a,p)=>{r.closeAll(),r({message:i,type:a,...p})};return{message:{error:(i,a)=>s(i,"error",a),success:(i,a)=>s(i,"success",a),warning:(i,a)=>s(i,"warning",a),info:(i,a)=>s(i,"info",a),close:()=>r.closeAll()},messageBox:{confirm:({msg:i,title:a="\u63D0\u793A",type:p="warning"})=>new Promise(v=>{parent.window.postMessage("openMask()","*"),window.top.postMessage("openMask()","*"),n.confirm(i,a,{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",buttonSize:"",type:p}).then(()=>v(!0)).catch(()=>{}).finally(()=>{parent.window.postMessage("closeMask()","*"),window.top.postMessage("closeMask()","*")})}),alert:({msg:i,title:a="\u63D0\u793A",type:p="warning"},v)=>{n.alert(i,a,{confirmButtonText:"\u786E\u8BA4",type:p,callback:h=>v(h)})}}}}function Nt({instance:t=At,beforeRequest:e,beforeResponse:r,responseHandler:n,errorHandler:s,errorResponse:o}={}){t||(t.defaults={instance:1e3,withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8"}});const{message:c}=be(),i=u=>{s?s(u):c.error(u)},a=[],p=t.CancelToken,v=u=>{const f=`${u.url}&${u.method}`;for(const w in a)a[w].url===f&&(a[w].fn(),a.splice(w,1))};t.interceptors.request.use(async u=>{const f=e?await e(u):u;return v(f),f.cancelToken=new p(w=>{a.push({url:`${f.url}&${f.method}`,fn:w})}),f}),t.interceptors.response.use(async u=>{if(v(u.config),r)return r?await r(u):u;if(n)return await n(u);const{data:f,data:{code:w}}=u||{};return[0,1001].includes(w)?f:(f&&o(f),i(u.message))},async u=>{if(u&&u.response){const{data:f,status:w}=u.response;if(w&&o&&await o(f),f.errors&&f.errors.length)u.message=f.errors[0].message||f.message;else{const O={400:"\u8BF7\u6C42\u9519\u8BEF",401:"\u767B\u5F55\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55",403:"\u62D2\u7EDD\u8BBF\u95EE",404:"\u8BF7\u6C42\u5931\u8D25",408:"\u8BF7\u6C42\u8D85\u65F6",500:"\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF",501:"\u670D\u52A1\u672A\u5B9E\u73B0",502:"\u65E0\u6CD5\u8FDE\u63A5\u670D\u52A1\u5668",503:"\u670D\u52A1\u4E0D\u53EF\u7528",504:"\u8FDE\u63A5\u670D\u52A1\u5668\u8D85\u65F6",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301"};u.message=O[w]}i(u.message)}return u.message==="timeout of 10000ms exceeded"&&(u.message="\u7F51\u7EDC\u8D85\u65F6, \u8BF7\u68C0\u67E5\u7F51\u7EDC\uFF01"),u.message?Promise.reject(u):u});const h=(u,f=!1)=>f?u:typeof u.data!="undefined"&&u.data,l=async(u,f,w,O)=>{try{const L=["post","put"].includes(w)?await t({method:w,url:u,data:f}):await t[w](u,{params:f});return h(L,O)}catch(L){if(i(L.message),O)return L}};return{$api:{get:(u,f)=>l(u,f,"get"),post:(u,f)=>l(u,f,"post"),put:(u,f)=>l(u,f,"put"),delete:(u,f)=>l(u,f,"delete"),all:(u,f)=>l(u,f,"all")},$http:{get:(u,f)=>l(u,f,"get",!0),post:(u,f)=>l(u,f,"post",!0),put:(u,f)=>l(u,f,"put",!0),delete:(u,f)=>l(u,f,"delete",!0),all:(u,f)=>l(u,f,"all",!0)}}}function Rt(){const t=m.ref(null);return{ruleFormRef:t,submitForm:(n=t)=>{const s=n.value||n;return s?new Promise(o=>{s.validate(c=>{o(c)})}):!1},resetForm:(n=t)=>{(n.value||n).resetFields()}}}function kt(){const t=m.ref(1),e=m.ref(1),r=m.ref(1),n=m.ref([]),s=m.ref(!0),o=m.ref(!1);return{totalPage:t,totalRecord:e,currentPage:r,listData:n,tableData:n,loading:s,getNowPage:(a=[],p=n.value)=>(r.value>1&&(p.length===1||p.length===a.length)&&r.value--,r.value),setListAndPage:a=>{const{records:p=[],totalPage:v=1,pageNo:h=1,pageIndex:l,totalRecord:d=1}=a||{};n.value=p,s.value=!1,t.value=v,e.value=d,r.value=l!=null?l:h,o.value=!p.length},isNullData:o}}function jt(){const t=(o,c)=>{if(o){let i=o;return typeof o=="string"&&(i=Number(o)),i.toFixed(2)}return c?0:"0.00"};return{moneyType:o=>`\uFFE5${t(o)}`,moneyPoint:t,dataType:o=>o||0,paramsType:o=>o!==void 0?o:"-",rounding:(o,c=2)=>Number(o.toFixed(c))}}E.useCommon=Ee,E.useFilters=jt,E.useForm=Rt,E.useMessage=be,E.usePage=kt,E.useRequest=Nt,Object.defineProperties(E,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
