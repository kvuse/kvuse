(function(w,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(w=typeof globalThis<"u"?globalThis:w||self,t(w["kvuse-vant"]={},w.Vue))})(this,function(w,t){"use strict";const xn="",V=e=>e!=null,U=e=>typeof e=="function",q=e=>e!==null&&typeof e=="object",Me=e=>q(e)&&U(e.then)&&U(e.catch),ce=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),je=()=>se?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1,A=Object.assign,se=typeof window<"u";function de(e,n){const o=n.split(".");let a=e;return o.forEach(i=>{var l;a=q(a)&&(l=a[i])!=null?l:""}),a}const ue=e=>Array.isArray(e)?e:[e],Y=null,C=[Number,String],fe={type:Boolean,default:!0},Ke=e=>({type:C,default:e}),E=e=>({type:String,default:e});var me=typeof window<"u";function ve(e){const n=t.inject(e,null);if(n){const o=t.getCurrentInstance(),{link:a,unlink:i,internalChildren:l}=n;a(o),t.onUnmounted(()=>i(o));const f=t.computed(()=>l.indexOf(o));return{parent:n,index:f}}return{parent:null,index:t.ref(-1)}}function We(e){let n;t.onMounted(()=>{e(),t.nextTick(()=>{n=!0})}),t.onActivated(()=>{n&&e()})}function Ue(e,n,o={}){if(!me)return;const{target:a=window,passive:i=!1,capture:l=!1}=o;let f=!1,u;const c=h=>{if(f)return;const p=t.unref(h);p&&!u&&(p.addEventListener(e,n,{capture:l,passive:i}),u=!0)},s=h=>{if(f)return;const p=t.unref(h);p&&u&&(p.removeEventListener(e,n,l),u=!1)};t.onUnmounted(()=>s(a)),t.onDeactivated(()=>s(a)),We(()=>c(a));let d;return t.isRef(a)&&(d=t.watch(a,(h,p)=>{s(p),c(h)})),()=>{d==null||d(),s(a),f=!0}}var H,ne;function qe(){if(!H&&(H=t.ref(0),ne=t.ref(0),me)){const e=()=>{H.value=window.innerWidth,ne.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:H,height:ne}}var Ye=Symbol("van-field");function ge(e,n){"scrollTop"in e?e.scrollTop=n:e.scrollTo(e.scrollX,n)}function he(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function pe(e){ge(window,e),ge(document.body,e)}const He=je();function Ze(){He&&pe(he())}const Ge=e=>e.stopPropagation();function oe(e,n){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),n&&Ge(e)}qe();function S(e){if(V(e))return ce(e)?`${e}px`:String(e)}function Xe(e){if(V(e)){if(Array.isArray(e))return{width:S(e[0]),height:S(e[1])};const n=S(e);return{width:n,height:n}}}const Je=/-(\w)/g,be=e=>e.replace(Je,(n,o)=>o.toUpperCase()),Qe=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function ye(e,n,o){const a=e.indexOf(n);return a===-1?e:n==="-"&&a!==0?e.slice(0,a):e.slice(0,a+1)+e.slice(a).replace(o,"")}function et(e,n=!0,o=!0){n?e=ye(e,".",/\./g):e=e.split(".")[0],o?e=ye(e,"-",/-/g):e=e.replace(/-/,"");const a=n?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(a,"")}const{hasOwnProperty:tt}=Object.prototype;function nt(e,n,o){const a=n[o];V(a)&&(!tt.call(e,o)||!q(a)?e[o]=a:e[o]=Ee(Object(e[o]),a))}function Ee(e,n){return Object.keys(n).forEach(o=>{nt(e,n,o)}),e}var ot={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,n)=>`${e}年${n}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const Ve=t.ref("zh-CN"),Ce=t.reactive({"zh-CN":ot});var rt={messages(){return Ce[Ve.value]},use(e,n){Ve.value=e,this.add({[e]:n})},add(e={}){Ee(Ce,e)}};function at(e){const n=be(e)+".";return(o,...a)=>{const i=rt.messages(),l=de(i,n+o)||de(i,o);return U(l)?l(...a):l}}function re(e,n){return n?typeof n=="string"?` ${e}--${n}`:Array.isArray(n)?n.reduce((o,a)=>o+re(e,a),""):Object.keys(n).reduce((o,a)=>o+(n[a]?re(e,a):""),""):""}function lt(e){return(n,o)=>(n&&typeof n!="string"&&(o=n,n=""),n=n?`${e}__${n}`:e,`${n}${re(n,o)}`)}function T(e){const n=`van-${e}`;return[n,lt(n),at(n)]}const it="van-hairline--surround",ct=Symbol("van-form");function L(e){return e.install=n=>{const{name:o}=e;o&&(n.component(o,e),n.component(be(`-${o}`),e))},e}function st(e){const n=t.getCurrentInstance();n&&A(n.proxy,e)}const _e={to:[String,Object],url:String,replace:Boolean};function dt({to:e,url:n,replace:o,$router:a}){e&&a?a[o?"replace":"push"](e):n&&(o?location.replace(n):location.href=n)}function Se(){const e=t.getCurrentInstance().proxy;return()=>dt(e)}const[ut,ke]=T("badge"),ft={dot:Boolean,max:C,tag:E("div"),color:String,offset:Array,content:C,showZero:fe,position:E("top-right")};var mt=t.defineComponent({name:ut,props:ft,setup(e,{slots:n}){const o=()=>{if(n.content)return!0;const{content:u,showZero:c}=e;return V(u)&&u!==""&&(c||u!==0&&u!=="0")},a=()=>{const{dot:u,max:c,content:s}=e;if(!u&&o())return n.content?n.content():V(c)&&ce(s)&&+s>+c?`${c}+`:s},i=u=>u.startsWith("-")?u.replace("-",""):`-${u}`,l=t.computed(()=>{const u={background:e.color};if(e.offset){const[c,s]=e.offset,{position:d}=e,[h,p]=d.split("-");n.default?(typeof s=="number"?u[h]=S(h==="top"?s:-s):u[h]=h==="top"?S(s):i(s),typeof c=="number"?u[p]=S(p==="left"?c:-c):u[p]=p==="left"?S(c):i(c)):(u.marginTop=S(s),u.marginLeft=S(c))}return u}),f=()=>{if(o()||e.dot)return t.createVNode("div",{class:ke([e.position,{dot:e.dot,fixed:!!n.default}]),style:l.value},[a()])};return()=>{if(n.default){const{tag:u}=e;return t.createVNode(u,{class:ke("wrapper")},{default:()=>[n.default(),f()]})}return f()}}});const gt=L(mt),ht=e=>{},[Be,pt]=T("config-provider"),we=Symbol(Be),bt={tag:E("div"),theme:E("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,iconPrefix:String};function yt(e){const n={};return Object.keys(e).forEach(o=>{n[`--van-${Qe(o)}`]=e[o]}),n}t.defineComponent({name:Be,props:bt,setup(e,{slots:n}){const o=t.computed(()=>yt(A({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(se){const a=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},i=(l=e.theme)=>{document.documentElement.classList.remove(`van-theme-${l}`)};t.watch(()=>e.theme,(l,f)=>{f&&i(f),a()},{immediate:!0}),t.onActivated(a),t.onDeactivated(i),t.onBeforeUnmount(i)}return t.provide(we,e),t.watchEffect(()=>{e.zIndex!==void 0&&ht(e.zIndex)}),()=>t.createVNode(e.tag,{class:pt(),style:o.value},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})}});const[Et,$e]=T("icon"),Vt=e=>e==null?void 0:e.includes("/"),Ct={dot:Boolean,tag:E("i"),name:String,size:C,badge:C,color:String,badgeProps:Object,classPrefix:String};var _t=t.defineComponent({name:Et,props:Ct,setup(e,{slots:n}){const o=t.inject(we,null),a=t.computed(()=>e.classPrefix||(o==null?void 0:o.iconPrefix)||$e());return()=>{const{tag:i,dot:l,name:f,size:u,badge:c,color:s}=e,d=Vt(f);return t.createVNode(gt,t.mergeProps({dot:l,tag:i,class:[a.value,d?"":`${a.value}-${f}`],style:{color:s,fontSize:S(u)},content:c},e.badgeProps),{default:()=>{var h;return[(h=n.default)==null?void 0:h.call(n),d&&t.createVNode("img",{class:$e("image"),src:f},null)]}})}}});const P=L(_t),[St,R]=T("loading"),kt=Array(12).fill(null).map((e,n)=>t.createVNode("i",{class:R("line",String(n+1))},null)),Bt=t.createVNode("svg",{class:R("circular"),viewBox:"25 25 50 50"},[t.createVNode("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),wt={size:C,type:E("circular"),color:String,vertical:Boolean,textSize:C,textColor:String};var $t=t.defineComponent({name:St,props:wt,setup(e,{slots:n}){const o=t.computed(()=>A({color:e.color},Xe(e.size))),a=()=>{const l=e.type==="spinner"?kt:Bt;return t.createVNode("span",{class:R("spinner",e.type),style:o.value},[n.icon?n.icon():l])},i=()=>{var l;if(n.default)return t.createVNode("span",{class:R("text"),style:{fontSize:S(e.textSize),color:(l=e.textColor)!=null?l:e.color}},[n.default()])};return()=>{const{type:l,vertical:f}=e;return t.createVNode("div",{class:R([l,{vertical:f}]),"aria-live":"polite","aria-busy":!0},[a(),i()])}}});const Nt=L($t),[xt,O]=T("button"),It=A({},_e,{tag:E("button"),text:String,icon:String,type:E("default"),size:E("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:E("button"),loadingSize:C,loadingText:String,loadingType:String,iconPosition:E("left")});var Tt=t.defineComponent({name:xt,props:It,emits:["click"],setup(e,{emit:n,slots:o}){const a=Se(),i=()=>o.loading?o.loading():t.createVNode(Nt,{size:e.loadingSize,type:e.loadingType,class:O("loading")},null),l=()=>{if(e.loading)return i();if(o.icon)return t.createVNode("div",{class:O("icon")},[o.icon()]);if(e.icon)return t.createVNode(P,{name:e.icon,class:O("icon"),classPrefix:e.iconPrefix},null)},f=()=>{let s;if(e.loading?s=e.loadingText:s=o.default?o.default():e.text,s)return t.createVNode("span",{class:O("text")},[s])},u=()=>{const{color:s,plain:d}=e;if(s){const h={color:d?s:"white"};return d||(h.background=s),s.includes("gradient")?h.border=0:h.borderColor=s,h}},c=s=>{e.loading?oe(s):e.disabled||(n("click",s),a())};return()=>{const{tag:s,type:d,size:h,block:p,round:v,plain:x,square:I,loading:D,disabled:N,hairline:J,nativeType:z,iconPosition:Q}=e,W=[O([d,h,{plain:x,block:p,round:v,square:I,loading:D,disabled:N,hairline:J}]),{[it]:J}];return t.createVNode(s,{type:z,class:W,style:u(),disabled:N,onClick:c},{default:()=>[t.createVNode("div",{class:O("content")},[Q==="left"&&l(),f(),Q==="right"&&l()])]})}}});const Pt=L(Tt);let Dt=0;function At(){const e=t.getCurrentInstance(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return process.env.NODE_ENV==="test"?n:`${n}-${++Dt}`}const[Lt,F]=T("cell"),Ne={tag:E("div"),icon:String,size:String,title:C,value:C,label:C,center:Boolean,isLink:Boolean,border:fe,required:Boolean,iconPrefix:String,valueClass:Y,labelClass:Y,titleClass:Y,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},Ot=A({},Ne,_e);var Ft=t.defineComponent({name:Lt,props:Ot,setup(e,{slots:n}){const o=Se(),a=()=>{if(n.label||V(e.label))return t.createVNode("div",{class:[F("label"),e.labelClass]},[n.label?n.label():e.label])},i=()=>{var c;if(n.title||V(e.title)){const s=(c=n.title)==null?void 0:c.call(n);return Array.isArray(s)&&s.length===0?void 0:t.createVNode("div",{class:[F("title"),e.titleClass],style:e.titleStyle},[s||t.createVNode("span",null,[e.title]),a()])}},l=()=>{const c=n.value||n.default;if(c||V(e.value))return t.createVNode("div",{class:[F("value"),e.valueClass]},[c?c():t.createVNode("span",null,[e.value])])},f=()=>{if(n.icon)return n.icon();if(e.icon)return t.createVNode(P,{name:e.icon,class:F("left-icon"),classPrefix:e.iconPrefix},null)},u=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const c=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return t.createVNode(P,{name:c,class:F("right-icon")},null)}};return()=>{var c;const{tag:s,size:d,center:h,border:p,isLink:v,required:x}=e,I=(c=e.clickable)!=null?c:v,D={center:h,required:x,clickable:I,borderless:!p};return d&&(D[d]=!!d),t.createVNode(s,{class:F(D),role:I?"button":void 0,tabindex:I?0:void 0,onClick:o},{default:()=>{var N;return[f(),i(),l(),u(),(N=n.extra)==null?void 0:N.call(n)]}})}}});const zt=L(Ft);function xe(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Rt(e,n){if(xe(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function Mt(e,n){return new Promise(o=>{const a=n.validator(e,n);if(Me(a)){a.then(o);return}o(a)})}function Ie(e,n){const{message:o}=n;return U(o)?o(e,n):o||""}function jt({target:e}){e.composing=!0}function Te({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Kt(e,n){const o=he();e.style.height="auto";let a=e.scrollHeight;if(q(n)){const{maxHeight:i,minHeight:l}=n;i!==void 0&&(a=Math.min(a,i)),l!==void 0&&(a=Math.max(a,l))}a&&(e.style.height=`${a}px`,pe(o))}function vt(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function $(e){return[...e].length}function ae(e,n){return[...e].slice(0,n).join("")}const[Wt,k]=T("field"),Ut={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:C,formatter:Function,clearIcon:E("clear"),modelValue:Ke(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:E("focus"),formatTrigger:E("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},qt=A({},Ne,Ut,{rows:C,type:E("text"),rules:Array,autosize:[Boolean,Object],labelWidth:C,labelClass:Y,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Yt=t.defineComponent({name:Wt,props:qt,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:o}){const a=At(),i=t.reactive({status:"unvalidated",focused:!1,validateMessage:""}),l=t.ref(),f=t.ref(),u=t.ref(),{parent:c}=ve(ct),s=()=>{var r;return String((r=e.modelValue)!=null?r:"")},d=r=>{if(V(e[r]))return e[r];if(c&&V(c.props[r]))return c.props[r]},h=t.computed(()=>{const r=d("readonly");if(e.clearable&&!r){const g=s()!=="",m=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return g&&m}return!1}),p=t.computed(()=>u.value&&o.input?u.value():e.modelValue),v=r=>r.reduce((g,m)=>g.then(()=>{if(i.status==="failed")return;let{value:b}=p;if(m.formatter&&(b=m.formatter(b,m)),!Rt(b,m)){i.status="failed",i.validateMessage=Ie(b,m);return}if(m.validator)return xe(b)&&m.validateEmpty===!1?void 0:Mt(b,m).then(y=>{y&&typeof y=="string"?(i.status="failed",i.validateMessage=y):y===!1&&(i.status="failed",i.validateMessage=Ie(b,m))})}),Promise.resolve()),x=()=>{i.status="unvalidated",i.validateMessage=""},I=()=>n("endValidate",{status:i.status,message:i.validateMessage}),D=(r=e.rules)=>new Promise(g=>{x(),r?(n("startValidate"),v(r).then(()=>{i.status==="failed"?(g({name:e.name,message:i.validateMessage}),I()):(i.status="passed",g(),I())})):g()}),N=r=>{if(c&&e.rules){const{validateTrigger:g}=c.props,m=ue(g).includes(r),b=e.rules.filter(y=>y.trigger?ue(y.trigger).includes(r):m);b.length&&D(b)}},J=r=>{var g;const{maxlength:m}=e;if(V(m)&&$(r)>+m){const b=s();if(b&&$(b)===+m)return b;const y=(g=l.value)==null?void 0:g.selectionEnd;if(i.focused&&y){const _=[...r],B=_.length-+m;return _.splice(y-B,B),_.join("")}return ae(r,+m)}return r},z=(r,g="onChange")=>{const m=r;r=J(r);const b=$(m)-$(r);if(e.type==="number"||e.type==="digit"){const _=e.type==="number";r=et(r,_,_)}let y=0;if(e.formatter&&g===e.formatTrigger){const{formatter:_,maxlength:B}=e;if(r=_(r),V(B)&&$(r)>+B&&(r=ae(r,+B)),l.value&&i.focused){const{selectionEnd:te}=l.value,Re=ae(m,te);y=$(_(Re))-$(Re)}}if(l.value&&l.value.value!==r)if(i.focused){let{selectionStart:_,selectionEnd:B}=l.value;if(l.value.value=r,V(_)&&V(B)){const te=$(r);b?(_-=b,B-=b):y&&(_+=y,B+=y),l.value.setSelectionRange(Math.min(_,te),Math.min(B,te))}}else l.value.value=r;r!==e.modelValue&&n("update:modelValue",r)},Q=r=>{r.target.composing||z(r.target.value)},W=()=>{var r;return(r=l.value)==null?void 0:r.blur()},mn=()=>{var r;return(r=l.value)==null?void 0:r.focus()},ee=()=>{const r=l.value;e.type==="textarea"&&e.autosize&&r&&Kt(r,e.autosize)},gn=r=>{i.focused=!0,n("focus",r),t.nextTick(ee),d("readonly")&&W()},hn=r=>{i.focused=!1,z(s(),"onBlur"),n("blur",r),!d("readonly")&&(N("onBlur"),t.nextTick(ee),Ze())},Oe=r=>n("clickInput",r),pn=r=>n("clickLeftIcon",r),bn=r=>n("clickRightIcon",r),yn=r=>{oe(r),n("update:modelValue",""),n("clear",r)},Fe=t.computed(()=>{if(typeof e.error=="boolean")return e.error;if(c&&c.props.showError&&i.status==="failed")return!0}),En=t.computed(()=>{const r=d("labelWidth"),g=d("labelAlign");if(r&&g!=="top")return{width:S(r)}}),Vn=r=>{r.keyCode===13&&(!(c&&c.props.submitOnEnter)&&e.type!=="textarea"&&oe(r),e.type==="search"&&W()),n("keypress",r)},ze=()=>e.id||`${a}-input`,Cn=()=>i.status,_n=()=>{const r=k("control",[d("inputAlign"),{error:Fe.value,custom:!!o.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(o.input)return t.createVNode("div",{class:r,onClick:Oe},[o.input()]);const g={id:ze(),ref:l,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:r,disabled:d("disabled"),readonly:d("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${a}-label`:void 0,onBlur:hn,onFocus:gn,onInput:Q,onClick:Oe,onChange:Te,onKeypress:Vn,onCompositionend:Te,onCompositionstart:jt};return e.type==="textarea"?t.createVNode("textarea",g,null):t.createVNode("input",t.mergeProps(vt(e.type),g),null)},Sn=()=>{const r=o["left-icon"];if(e.leftIcon||r)return t.createVNode("div",{class:k("left-icon"),onClick:pn},[r?r():t.createVNode(P,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},kn=()=>{const r=o["right-icon"];if(e.rightIcon||r)return t.createVNode("div",{class:k("right-icon"),onClick:bn},[r?r():t.createVNode(P,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Bn=()=>{if(e.showWordLimit&&e.maxlength){const r=$(s());return t.createVNode("div",{class:k("word-limit")},[t.createVNode("span",{class:k("word-num")},[r]),t.createTextVNode("/"),e.maxlength])}},wn=()=>{if(c&&c.props.showErrorMessage===!1)return;const r=e.errorMessage||i.validateMessage;if(r){const g=o["error-message"],m=d("errorMessageAlign");return t.createVNode("div",{class:k("error-message",m)},[g?g({message:r}):r])}},$n=()=>{const r=d("labelWidth"),g=d("labelAlign"),m=d("colon")?":":"";if(o.label)return[o.label(),m];if(e.label)return t.createVNode("label",{id:`${a}-label`,for:ze(),style:g==="top"&&r?{width:S(r)}:void 0},[e.label+m])},Nn=()=>[t.createVNode("div",{class:k("body")},[_n(),h.value&&t.createVNode(P,{ref:f,name:e.clearIcon,class:k("clear")},null),kn(),o.button&&t.createVNode("div",{class:k("button")},[o.button()])]),Bn(),wn()];return st({blur:W,focus:mn,validate:D,formValue:p,resetValidation:x,getValidationStatus:Cn}),t.provide(Ye,{customValue:u,resetValidation:x,validateWithTrigger:N}),t.watch(()=>e.modelValue,()=>{z(s()),x(),N("onChange"),t.nextTick(ee)}),t.onMounted(()=>{z(s(),e.formatTrigger),t.nextTick(ee)}),Ue("touchstart",yn,{target:t.computed(()=>{var r;return(r=f.value)==null?void 0:r.$el})}),()=>{const r=d("disabled"),g=d("labelAlign"),m=Sn(),b=()=>{const y=$n();return g==="top"?[m,y].filter(Boolean):y||[]};return t.createVNode(zt,{size:e.size,class:k({error:Fe.value,disabled:r,[`label-${g}`]:g}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:En.value,valueClass:k("value"),titleClass:[k("label",[g,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:m&&g!=="top"?()=>m:null,title:b,value:Nn,extra:o.extra})}}});const Ht=L(Yt),Pn="",Z=(e,n)=>{const o=e.__vccOpts||e;for(const[a,i]of n)o[a]=i;return o},le=t.defineComponent({name:"KvButton",components:{VanButton:Pt},props:{type:{type:String,default:"default",validate:e=>["primary","success","warning","danger","text"].includes(e)},link:{type:Boolean,default:!1}},setup(e){return{textcolor:t.computed(()=>`var(--van-button-${e.type}-background)`)}}}),Pe=()=>{t.useCssVars(e=>({"094aed15":e.textcolor}))},De=le.setup;le.setup=De?(e,n)=>(Pe(),De(e,n)):Pe;const Zt=le;function Gt(e,n,o,a,i,l){const f=t.resolveComponent("van-button");return t.openBlock(),t.createBlock(f,t.mergeProps({type:e.type,class:{"is-link":e.link}},e.$attrs),t.createSlots({loading:t.withCtx(()=>[t.renderSlot(e.$slots,"loading",{},void 0,!0)]),default:t.withCtx(()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)]),_:2},[e.$attrs.icon?void 0:{name:"icon",fn:t.withCtx(()=>[t.renderSlot(e.$slots,"icon",{},void 0,!0)]),key:"0"}]),1040,["type","class"])}const M=Z(Zt,[["render",Gt],["__scopeId","data-v-36fadbb1"]]);M.install=function(e){e.component(M.name,M)};const Xt=t.defineComponent({name:"KvInput",components:{VanField:Ht},props:{modelValue:{type:[Number,String],default:""},point:{type:Number,default:2},type:{type:String,default:"number"},prefix:{type:String,default:""},suffix:{type:String,default:""},min:{type:Number,default:Number.NEGATIVE_INFINITY},max:{type:Number,default:Number.POSITIVE_INFINITY}},emits:["update:modelValue","clear"],setup(e,{emit:n}){return{inputValue:t.computed({get:()=>e.modelValue,set:i=>n("update:modelValue",i)}),formatter:i=>{if(e.type!=="number")return i;let l=i;l.substr(0,1)==="0"&&l.length===2&&!l.includes(".")&&(l=l.substr(1,l.length));const f=new RegExp(`[^0-9]{0,1}(\\d*(?:\\.\\d{0,${e.point}})?).*$`,"g");return l=l.replace(f,"$1")??"",Number(l)<e.min?e.min:Number(l)>e.max?e.max:l}}}}),Jt={class:"flex-center k-input"};function Qt(e,n,o,a,i,l){const f=t.resolveComponent("van-field");return t.openBlock(),t.createElementBlock("div",Jt,[t.createElementVNode("span",null,t.toDisplayString(e.prefix),1),t.createVNode(f,t.mergeProps({modelValue:e.inputValue,"onUpdate:modelValue":n[0]||(n[0]=u=>e.inputValue=u),type:e.type},e.$attrs,{formatter:e.formatter}),null,16,["modelValue","type","formatter"]),t.createElementVNode("span",null,t.toDisplayString(e.suffix),1)])}const j=Z(Xt,[["render",Qt]]);j.install=function(e){e.component(j.name,j)};const Dn="",en=t.defineComponent({name:"KvTable",props:{align:{type:String,default:"left",validate:e=>["left","center","right"].includes(e)},columns:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},headerStyle:{type:Object,default:()=>({})},rowStyle:{type:Object,default:()=>({})},border:{type:Boolean,default:!1},showOverflowTooltip:{type:Boolean,default:!1}},emits:["row-click"],setup(e,{emit:n}){return{alignStyle:t.computed(()=>[`text-align:${e.align}`,e.border?"border-bottom: 1px solid #ebedf0;":"",e.rowStyle]),clickRow:(i,l)=>n("row-click",i,l)}}}),tn={class:"k-table bg-white mt10 p20"},nn={class:"table-content"},on={class:"table-body"};function rn(e,n,o,a,i,l){return t.openBlock(),t.createElementBlock("div",tn,[t.createElementVNode("div",nn,[t.createElementVNode("div",{class:"table-header flex",style:t.normalizeStyle(e.headerStyle)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.columns,f=>(t.openBlock(),t.createElementBlock("div",{key:f.prop,class:"flex1 table-column",style:t.normalizeStyle(e.alignStyle)},t.toDisplayString(f.label),5))),128))],4),t.createElementVNode("div",on,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.data,(f,u)=>(t.openBlock(),t.createElementBlock("div",{key:u,class:"flex table-column flex-align-center",style:t.normalizeStyle(e.alignStyle)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.columns,c=>(t.openBlock(),t.createElementBlock("div",{key:c.prop,class:t.normalizeClass(["flex1",{"text-overflow":e.showOverflowTooltip}])},t.toDisplayString(f[c.prop]),3))),128))],4))),128))])])])}const G=Z(en,[["render",rn],["__scopeId","data-v-80eb79a8"]]);G.install=function(e){e.component(G.name,G)};const An="",ie=t.defineComponent({name:"KvTree",components:{VanIcon:P},props:{modelValue:{type:Array,default:()=>[]},depth:{type:Number,default:0},props:{type:Object,default:()=>({})},theme:{type:String,default:"#f4364c"},select:{type:[String,Number],default:""}},emits:["update:modelValue","update:select","click","change"],setup(e,{emit:n}){const o=t.computed({get:()=>e.modelValue,set:d=>n("update:modelValue",d)}),a=t.computed(()=>({name:"name",id:"id",child:"child",disabled:"disabled",...e.props})),i=d=>(d.forEach(h=>{h.showChildren=!1,h[a.value.child]&&i(h[a.value.child])}),d),l=t.ref(e.select),f=d=>{d[a.value.disabled]||(d[a.value.child]&&d.showChildren||(o.value=i(o.value)),d.showChildren=!d.showChildren,l.value=d[a.value.id],u(d))},u=d=>{n("update:select",d[a.value.id]),n("change",d),n("click",d)},c=(d,h)=>d.disabled?"not-allowed":d[a.value.id]===l.value?{0:"first-depth c-white",1:"second-depth c-white",2:"third-depth c-white"}[h]:"",s=t.computed(()=>e.theme);return{list:o,clickItem:f,clickChild:u,getClassName:c,themecolor:s,deaultProps:a}}}),Ae=()=>{t.useCssVars(e=>({"80a71366":e.themecolor}))},Le=ie.setup;ie.setup=Le?(e,n)=>(Ae(),Le(e,n)):Ae;const an=ie,ln={class:"k-tree"},cn=["onClick"],sn={class:"flex-center flex1 tree-item-content"},dn={class:"mr10"};function un(e,n,o,a,i,l){const f=t.resolveComponent("van-icon"),u=t.resolveComponent("kv-tree");return t.openBlock(),t.createElementBlock("div",ln,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.list,c=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:c[e.deaultProps.id]},[t.createElementVNode("div",{class:t.normalizeClass(["tree-item p10 flex-center",e.getClassName(c,e.depth)]),onClick:t.withModifiers(s=>e.clickItem(c,e.depth),["stop"])},[t.createElementVNode("div",sn,[t.createElementVNode("span",dn,t.toDisplayString(c[e.deaultProps.name]),1),c[e.deaultProps.child]?(t.openBlock(),t.createBlock(f,{key:0,name:c.showChildren?"arrow-up":"arrow-down"},null,8,["name"])):t.createCommentVNode("",!0)])],10,cn),c.showChildren&&c[e.deaultProps.child]?(t.openBlock(),t.createBlock(u,{key:0,modelValue:c[e.deaultProps.child],"onUpdate:modelValue":s=>c[e.deaultProps.child]=s,props:e.deaultProps,theme:e.theme,depth:e.depth+1,onClick:e.clickChild},null,8,["modelValue","onUpdate:modelValue","props","theme","depth","onClick"])):t.createCommentVNode("",!0)],64))),128))])}const K=Z(an,[["render",un],["__scopeId","data-v-31963786"]]);K.install=function(e){e.component(K.name,K)};const X={KvButton:M,KvInput:j,KvTable:G,KvTree:K,install:()=>{}};function fn(e,n,o=0){return e.substr(o,n.length)===n}X.install=function(e){Object.keys(X).forEach(n=>{if(fn(n,"K")){const o=X[n];e.component(o.name,o)}})},w.KVant=X,w.KvButton=M,w.KvInput=j,w.KvTree=K,Object.defineProperty(w,Symbol.toStringTag,{value:"Module"})});
