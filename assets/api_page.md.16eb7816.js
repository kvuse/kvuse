import{_ as s,F as e,o as l,c as n,K as t,U as o}from"./chunks/framework.486a96e6.js";const g=JSON.parse('{"title":"usePage","description":"","frontmatter":{},"headers":[],"relativePath":"api/page.md","filePath":"api/page.md","lastUpdated":1687339823000}'),p={name:"api/page.md"},c=o(`<h1 id="usepage" tabindex="-1">usePage <a class="header-anchor" href="#usepage" aria-label="Permalink to &quot;usePage&quot;">​</a></h1><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> usePage </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;@kvuse/core&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">  const </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> totalPage</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> totalRecord</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> currentPage</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> listData</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> getNowPage</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> setListAndPage</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> nullData </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> = usePage();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  const getResult = async () =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    const result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getApi</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">setListAndPage</span><span style="color:#A6ACCD;">(result); </span><span style="color:#676E95;font-style:italic;">// 设置totalPage和listData....</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 如果获得数组是累加的话，可以添加第二个参数</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// setListAndPage(result, true); </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 返回的数组合并 listData.value = [...listData.value, ...result]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><h2 id="参数说明" tabindex="-1">参数说明 <a class="header-anchor" href="#参数说明" aria-label="Permalink to &quot;参数说明&quot;">​</a></h2>`,4);function r(i,D,y,A,F,d){const a=e("v-table");return l(),n("div",null,[c,t(a,{type:"event",data:[{event:"totalPage",dec:"列表分页总页数",callback:"-"},{event:"totalRecord",dec:"列表分页总条数",callback:"-"},{event:"currentPage",dec:"当前页数",callback:"-"},{event:"listData/tableData",dec:"当前分页数据列表",callback:"-"},{event:"isNullData",dec:"是否是空数据",callback:"-"},{event:"loading",dec:"接口请求参数，如果请求完成为false",callback:"-"},{event:"getNowPage",dec:"获取当前分页数据, 删除商品临界值计算, 删除判断是否跳转上一页",callback:"(delList) delList删除的商品列表(批量删除使用)"},{event:"setListAndPage",dec:"设置listData,pageTotal",callback:"如果单独设置list和totalPage请忽略"}]})])}const u=s(p,[["render",r]]);export{g as __pageData,u as default};
