import{U as de,m as ne,y as qe,l as R,e as x,aq as we,a9 as Pt,w as j,p as fe,b as ee,Z as H,ar as Ce,a4 as te,ao as Xe,V as Be,af as $t,d as L,G as u,k as At,E as Ze,a as It,W as Ot}from"./framework.497a4952.js";const A=e=>e!=null,le=e=>typeof e=="function",ge=e=>e!==null&&typeof e=="object",_t=e=>ge(e)&&le(e.then)&&le(e.catch),ga=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function ma(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const Ke=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Rt=()=>ke?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function ha(){}const Z=Object.assign,ke=typeof window<"u";function Re(e,t){const n=t.split(".");let a=e;return n.forEach(o=>{var r;a=ge(a)&&(r=a[o])!=null?r:""}),a}function va(e,t,n){return t.reduce((a,o)=>((!n||e[o]!==void 0)&&(a[o]=e[o]),a),{})}const ba=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Ve=e=>Array.isArray(e)?e:[e],se=null,P=[Number,String],De={type:Boolean,default:!0},ya=e=>({type:e,required:!0}),Ea=()=>({type:Array,default:()=>[]}),xa=e=>({type:Number,default:e}),J=e=>({type:P,default:e}),D=e=>({type:String,default:e});var N=typeof window<"u";function ce(e){return N?requestAnimationFrame(e):-1}function Vt(e){N&&cancelAnimationFrame(e)}function Sa(e){ce(()=>ce(e))}var Mt=e=>e===window,Me=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),ye=e=>{const t=ee(e);if(Mt(t)){const n=t.innerWidth,a=t.innerHeight;return Me(n,a)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Me(0,0)};function Ta(e=!1){const t=x(e);return[t,(a=!t.value)=>{t.value=a}]}function Lt(e){const t=de(e,null);if(t){const n=ne(),{link:a,unlink:o,internalChildren:r}=t;a(n),qe(()=>o(n));const d=R(()=>r.indexOf(n));return{parent:t,index:d}}return{parent:null,index:x(-1)}}function Ft(e){const t=[],n=a=>{Array.isArray(a)&&a.forEach(o=>{var r;$t(o)&&(t.push(o),(r=o.component)!=null&&r.subTree&&(t.push(o.component.subTree),n(o.component.subTree.children)),o.children&&n(o.children))})};return n(e),t}var Le=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(a=>t.key!==void 0&&t.key!==null&&a.type===t.type&&a.key===t.key):n};function Nt(e,t,n){const a=Ft(e.subTree.children);n.sort((r,d)=>Le(a,r.vnode)-Le(a,d.vnode));const o=n.map(r=>r.proxy);t.sort((r,d)=>{const l=o.indexOf(r),s=o.indexOf(d);return l-s})}function wa(e){const t=te([]),n=te([]),a=ne();return{children:t,linkChildren:r=>{Be(e,Object.assign({link:s=>{s.proxy&&(n.push(s),t.push(s.proxy),Nt(a,t,n))},unlink:s=>{const c=n.indexOf(s);t.splice(c,1),n.splice(c,1)},children:t,internalChildren:n},r))}}}var Ee=1e3,xe=60*Ee,Se=60*xe,Fe=24*Se;function zt(e){const t=Math.floor(e/Fe),n=Math.floor(e%Fe/Se),a=Math.floor(e%Se/xe),o=Math.floor(e%xe/Ee),r=Math.floor(e%Ee);return{total:e,days:t,hours:n,minutes:a,seconds:o,milliseconds:r}}function pt(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function Ca(e){let t,n,a,o;const r=x(e.time),d=R(()=>zt(r.value)),l=()=>{a=!1,Vt(t)},s=()=>Math.max(n-Date.now(),0),c=E=>{var B,k;r.value=E,(B=e.onChange)==null||B.call(e,d.value),E===0&&(l(),(k=e.onFinish)==null||k.call(e))},f=()=>{t=ce(()=>{a&&(c(s()),r.value>0&&f())})},h=()=>{t=ce(()=>{if(a){const E=s();(!pt(E,r.value)||E===0)&&c(E),r.value>0&&h()}})},m=()=>{N&&(e.millisecond?f():h())},y=()=>{a||(n=Date.now()+r.value,a=!0,m())},S=(E=e.time)=>{l(),r.value=E};return Xe(l),Ce(()=>{o&&(a=!0,o=!1,m())}),we(()=>{a&&(l(),o=!0)}),{start:y,pause:l,reset:S,current:d}}function Ht(e){let t;fe(()=>{e(),H(()=>{t=!0})}),Ce(()=>{t&&e()})}function me(e,t,n={}){if(!N)return;const{target:a=window,passive:o=!1,capture:r=!1}=n;let d=!1,l;const s=h=>{if(d)return;const m=ee(h);m&&!l&&(m.addEventListener(e,t,{capture:r,passive:o}),l=!0)},c=h=>{if(d)return;const m=ee(h);m&&l&&(m.removeEventListener(e,t,r),l=!1)};qe(()=>c(a)),we(()=>c(a)),Ht(()=>s(a));let f;return Pt(a)&&(f=j(a,(h,m)=>{c(m),s(h)})),()=>{f==null||f(),c(a),d=!0}}function Ba(e,t,n={}){if(!N)return;const{eventName:a="click"}=n;me(a,r=>{(Array.isArray(e)?e:[e]).every(s=>{const c=ee(s);return c&&!c.contains(r.target)})&&t(r)},{target:document})}var oe,he;function jt(){if(!oe&&(oe=x(0),he=x(0),N)){const e=()=>{oe.value=window.innerWidth,he.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:oe,height:he}}var Wt=/scroll|auto|overlay/i,Ge=N?window:void 0;function Yt(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Ut(e,t=Ge){let n=e;for(;n&&n!==t&&Yt(n);){const{overflowY:a}=window.getComputedStyle(n);if(Wt.test(a))return n;n=n.parentNode}return t}function Je(e,t=Ge){const n=x();return fe(()=>{e.value&&(n.value=Ut(e.value,t))}),n}var re;function ka(){if(!re&&(re=x("visible"),N)){const e=()=>{re.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return re}var Qe=Symbol("van-field");function Da(e){const t=de(Qe,null);t&&!t.customValue.value&&(t.customValue.value=e,j(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function et(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Ne(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Pe(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function tt(e){Ne(window,e),Ne(document.body,e)}function Pa(e,t){if(e===window)return 0;const n=t?et(t):Pe();return ye(e).top+n}const qt=Rt();function Xt(){qt&&tt(Pe())}const Zt=e=>e.stopPropagation();function ue(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Zt(e)}function Kt(e){const t=ee(e);if(!t)return!1;const n=window.getComputedStyle(t),a=n.display==="none",o=t.offsetParent===null&&n.position!=="fixed";return a||o}const{width:Gt,height:Jt}=jt();function I(e){if(A(e))return Ke(e)?`${e}px`:String(e)}function Qt(e){if(A(e)){if(Array.isArray(e))return{width:I(e[0]),height:I(e[1])};const t=I(e);return{width:t,height:t}}}function $a(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let ve;function en(){if(!ve){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;ve=parseFloat(t)}return ve}function tn(e){return e=e.replace(/rem/g,""),+e*en()}function nn(e){return e=e.replace(/vw/g,""),+e*Gt.value/100}function an(e){return e=e.replace(/vh/g,""),+e*Jt.value/100}function Aa(e){if(typeof e=="number")return e;if(ke){if(e.includes("rem"))return tn(e);if(e.includes("vw"))return nn(e);if(e.includes("vh"))return an(e)}return parseFloat(e)}const on=/-(\w)/g,nt=e=>e.replace(on,(t,n)=>n.toUpperCase()),rn=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function Ia(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Oa=(e,t,n)=>Math.min(Math.max(e,t),n);function ze(e,t,n){const a=e.indexOf(t);return a===-1?e:t==="-"&&a!==0?e.slice(0,a):e.slice(0,a+1)+e.slice(a).replace(n,"")}function sn(e,t=!0,n=!0){t?e=ze(e,".",/\./g):e=e.split(".")[0],n?e=ze(e,"-",/-/g):e=e.replace(/-/,"");const a=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(a,"")}function _a(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:ln}=Object.prototype;function cn(e,t,n){const a=t[n];A(a)&&(!ln.call(e,n)||!ge(a)?e[n]=a:e[n]=at(Object(e[n]),a))}function at(e,t){return Object.keys(t).forEach(n=>{cn(e,t,n)}),e}var un={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const pe=x("zh-CN"),He=te({"zh-CN":un}),dn={messages(){return He[pe.value]},use(e,t){pe.value=e,this.add({[e]:t})},add(e={}){at(He,e)}};var fn=dn;function gn(e){const t=nt(e)+".";return(n,...a)=>{const o=fn.messages(),r=Re(o,t+n)||Re(o,n);return le(r)?r(...a):r}}function Te(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,a)=>n+Te(e,a),""):Object.keys(t).reduce((n,a)=>n+(t[a]?Te(e,a):""),""):""}function mn(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Te(t,n)}`)}function F(e){const t=`van-${e}`;return[t,mn(t),gn(t)]}const K="van-hairline",Ra=`${K}--top`,Va=`${K}--left`,Ma=`${K}--bottom`,hn=`${K}--surround`,La=`${K}--top-bottom`,Fa=`${K}-unset--top-bottom`,Na="van-haptics-feedback",vn=Symbol("van-form"),za=500;function z(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(nt(`-${n}`),e))},e}function it(e){const t=ne();t&&Z(t.proxy,e)}const ot={to:[String,Object],url:String,replace:Boolean};function bn({to:e,url:t,replace:n,$router:a}){e&&a?a[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function rt(){const e=ne().proxy;return()=>bn(e)}const[yn,je]=F("badge"),En={dot:Boolean,max:P,tag:D("div"),color:String,offset:Array,content:P,showZero:De,position:D("top-right")};var xn=L({name:yn,props:En,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:l,showZero:s}=e;return A(l)&&l!==""&&(s||l!==0&&l!=="0")},a=()=>{const{dot:l,max:s,content:c}=e;if(!l&&n())return t.content?t.content():A(s)&&Ke(c)&&+c>+s?`${s}+`:c},o=l=>l.startsWith("-")?l.replace("-",""):`-${l}`,r=R(()=>{const l={background:e.color};if(e.offset){const[s,c]=e.offset,{position:f}=e,[h,m]=f.split("-");t.default?(typeof c=="number"?l[h]=I(h==="top"?c:-c):l[h]=h==="top"?I(c):o(c),typeof s=="number"?l[m]=I(m==="left"?s:-s):l[m]=m==="left"?I(s):o(s)):(l.marginTop=I(c),l.marginLeft=I(s))}return l}),d=()=>{if(n()||e.dot)return u("div",{class:je([e.position,{dot:e.dot,fixed:!!t.default}]),style:r.value},[a()])};return()=>{if(t.default){const{tag:l}=e;return u(l,{class:je("wrapper")},{default:()=>[t.default(),d()]})}return d()}}});const Sn=z(xn);let st=2e3;const pa=()=>++st,Tn=e=>{st=e},[lt,wn]=F("config-provider"),ct=Symbol(lt),Cn={tag:D("div"),theme:D("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,iconPrefix:String};function Bn(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${rn(n)}`]=e[n]}),t}var Ha=L({name:lt,props:Cn,setup(e,{slots:t}){const n=R(()=>Bn(Z({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(ke){const a=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},o=(r=e.theme)=>{document.documentElement.classList.remove(`van-theme-${r}`)};j(()=>e.theme,(r,d)=>{d&&o(d),a()},{immediate:!0}),Ce(a),we(o),Xe(o)}return Be(ct,e),At(()=>{e.zIndex!==void 0&&Tn(e.zIndex)}),()=>u(e.tag,{class:wn(),style:n.value},{default:()=>{var a;return[(a=t.default)==null?void 0:a.call(t)]}})}});const[kn,We]=F("icon"),Dn=e=>e==null?void 0:e.includes("/"),Pn={dot:Boolean,tag:D("i"),name:String,size:P,badge:P,color:String,badgeProps:Object,classPrefix:String};var $n=L({name:kn,props:Pn,setup(e,{slots:t}){const n=de(ct,null),a=R(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||We());return()=>{const{tag:o,dot:r,name:d,size:l,badge:s,color:c}=e,f=Dn(d);return u(Sn,Ze({dot:r,tag:o,class:[a.value,f?"":`${a.value}-${d}`],style:{color:c,fontSize:I(l)},content:s},e.badgeProps),{default:()=>{var h;return[(h=t.default)==null?void 0:h.call(t),f&&u("img",{class:We("image"),src:d},null)]}})}}});const X=z($n),[An,Q]=F("loading"),In=Array(12).fill(null).map((e,t)=>u("i",{class:Q("line",String(t+1))},null)),On=u("svg",{class:Q("circular"),viewBox:"25 25 50 50"},[u("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),_n={size:P,type:D("circular"),color:String,vertical:Boolean,textSize:P,textColor:String};var Rn=L({name:An,props:_n,setup(e,{slots:t}){const n=R(()=>Z({color:e.color},Qt(e.size))),a=()=>{const r=e.type==="spinner"?In:On;return u("span",{class:Q("spinner",e.type),style:n.value},[t.icon?t.icon():r])},o=()=>{var r;if(t.default)return u("span",{class:Q("text"),style:{fontSize:I(e.textSize),color:(r=e.textColor)!=null?r:e.color}},[t.default()])};return()=>{const{type:r,vertical:d}=e;return u("div",{class:Q([r,{vertical:d}]),"aria-live":"polite","aria-busy":!0},[a(),o()])}}});const $e=z(Rn),[Vn,Y]=F("button"),Mn=Z({},ot,{tag:D("button"),text:String,icon:String,type:D("default"),size:D("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:D("button"),loadingSize:P,loadingText:String,loadingType:String,iconPosition:D("left")});var Ln=L({name:Vn,props:Mn,emits:["click"],setup(e,{emit:t,slots:n}){const a=rt(),o=()=>n.loading?n.loading():u($e,{size:e.loadingSize,type:e.loadingType,class:Y("loading")},null),r=()=>{if(e.loading)return o();if(n.icon)return u("div",{class:Y("icon")},[n.icon()]);if(e.icon)return u(X,{name:e.icon,class:Y("icon"),classPrefix:e.iconPrefix},null)},d=()=>{let c;if(e.loading?c=e.loadingText:c=n.default?n.default():e.text,c)return u("span",{class:Y("text")},[c])},l=()=>{const{color:c,plain:f}=e;if(c){const h={color:f?c:"white"};return f||(h.background=c),c.includes("gradient")?h.border=0:h.borderColor=c,h}},s=c=>{e.loading?ue(c):e.disabled||(t("click",c),a())};return()=>{const{tag:c,type:f,size:h,block:m,round:y,plain:S,square:E,loading:B,disabled:k,hairline:W,nativeType:V,iconPosition:g}=e,T=[Y([f,h,{plain:S,block:m,round:y,square:E,loading:B,disabled:k,hairline:W}]),{[hn]:W}];return u(c,{type:V,class:T,style:l(),disabled:k,onClick:s},{default:()=>[u("div",{class:Y("content")},[g==="left"&&r(),d(),g==="right"&&r()])]})}}});const ja=z(Ln);function Fn(e,t){return e>t?"horizontal":t>e?"vertical":""}function Nn(){const e=x(0),t=x(0),n=x(0),a=x(0),o=x(0),r=x(0),d=x(""),l=()=>d.value==="vertical",s=()=>d.value==="horizontal",c=()=>{n.value=0,a.value=0,o.value=0,r.value=0,d.value=""};return{move:m=>{const y=m.touches[0];n.value=(y.clientX<0?0:y.clientX)-e.value,a.value=y.clientY-t.value,o.value=Math.abs(n.value),r.value=Math.abs(a.value);const S=10;(!d.value||o.value<S&&r.value<S)&&(d.value=Fn(o.value,r.value))},start:m=>{c(),e.value=m.touches[0].clientX,t.value=m.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:n,deltaY:a,offsetX:o,offsetY:r,direction:d,isVertical:l,isHorizontal:s}}let zn=0;function pn(){const e=ne(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++zn}`}const Hn=Symbol(),jn=()=>de(Hn,null),[Wn,U]=F("cell"),ut={tag:D("div"),icon:String,size:String,title:P,value:P,label:P,center:Boolean,isLink:Boolean,border:De,required:Boolean,iconPrefix:String,valueClass:se,labelClass:se,titleClass:se,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},Yn=Z({},ut,ot);var Un=L({name:Wn,props:Yn,setup(e,{slots:t}){const n=rt(),a=()=>{if(t.label||A(e.label))return u("div",{class:[U("label"),e.labelClass]},[t.label?t.label():e.label])},o=()=>{var s;if(t.title||A(e.title)){const c=(s=t.title)==null?void 0:s.call(t);return Array.isArray(c)&&c.length===0?void 0:u("div",{class:[U("title"),e.titleClass],style:e.titleStyle},[c||u("span",null,[e.title]),a()])}},r=()=>{const s=t.value||t.default;if(s||A(e.value))return u("div",{class:[U("value"),e.valueClass]},[s?s():u("span",null,[e.value])])},d=()=>{if(t.icon)return t.icon();if(e.icon)return u(X,{name:e.icon,class:U("left-icon"),classPrefix:e.iconPrefix},null)},l=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const s=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return u(X,{name:s,class:U("right-icon")},null)}};return()=>{var s;const{tag:c,size:f,center:h,border:m,isLink:y,required:S}=e,E=(s=e.clickable)!=null?s:y,B={center:h,required:S,clickable:E,borderless:!m};return f&&(B[f]=!!f),u(c,{class:U(B),role:E?"button":void 0,tabindex:E?0:void 0,onClick:n},{default:()=>{var k;return[d(),o(),r(),l(),(k=t.extra)==null?void 0:k.call(t)]}})}}});const qn=z(Un);function dt(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Xn(e,t){if(dt(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function Zn(e,t){return new Promise(n=>{const a=t.validator(e,t);if(_t(a)){a.then(n);return}n(a)})}function Ye(e,t){const{message:n}=t;return le(n)?n(e,t):n||""}function Kn({target:e}){e.composing=!0}function Ue({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Gn(e,t){const n=Pe();e.style.height="auto";let a=e.scrollHeight;if(ge(t)){const{maxHeight:o,minHeight:r}=t;o!==void 0&&(a=Math.min(a,o)),r!==void 0&&(a=Math.max(a,r))}a&&(e.style.height=`${a}px`,tt(n))}function Jn(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function M(e){return[...e].length}function be(e,t){return[...e].slice(0,t).join("")}const[Qn,O]=F("field"),ea={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:P,formatter:Function,clearIcon:D("clear"),modelValue:J(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:D("focus"),formatTrigger:D("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},ta=Z({},ut,ea,{rows:P,type:D("text"),rules:Array,autosize:[Boolean,Object],labelWidth:P,labelClass:se,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var na=L({name:Qn,props:ta,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const a=pn(),o=te({status:"unvalidated",focused:!1,validateMessage:""}),r=x(),d=x(),l=x(),{parent:s}=Lt(vn),c=()=>{var i;return String((i=e.modelValue)!=null?i:"")},f=i=>{if(A(e[i]))return e[i];if(s&&A(s.props[i]))return s.props[i]},h=R(()=>{const i=f("readonly");if(e.clearable&&!i){const b=c()!=="",v=e.clearTrigger==="always"||e.clearTrigger==="focus"&&o.focused;return b&&v}return!1}),m=R(()=>l.value&&n.input?l.value():e.modelValue),y=i=>i.reduce((b,v)=>b.then(()=>{if(o.status==="failed")return;let{value:w}=m;if(v.formatter&&(w=v.formatter(w,v)),!Xn(w,v)){o.status="failed",o.validateMessage=Ye(w,v);return}if(v.validator)return dt(w)&&v.validateEmpty===!1?void 0:Zn(w,v).then(C=>{C&&typeof C=="string"?(o.status="failed",o.validateMessage=C):C===!1&&(o.status="failed",o.validateMessage=Ye(w,v))})}),Promise.resolve()),S=()=>{o.status="unvalidated",o.validateMessage=""},E=()=>t("endValidate",{status:o.status,message:o.validateMessage}),B=(i=e.rules)=>new Promise(b=>{S(),i?(t("startValidate"),y(i).then(()=>{o.status==="failed"?(b({name:e.name,message:o.validateMessage}),E()):(o.status="passed",b(),E())})):b()}),k=i=>{if(s&&e.rules){const{validateTrigger:b}=s.props,v=Ve(b).includes(i),w=e.rules.filter(C=>C.trigger?Ve(C.trigger).includes(i):v);w.length&&B(w)}},W=i=>{var b;const{maxlength:v}=e;if(A(v)&&M(i)>+v){const w=c();if(w&&M(w)===+v)return w;const C=(b=r.value)==null?void 0:b.selectionEnd;if(o.focused&&C){const $=[...i],_=$.length-+v;return $.splice(C-_,_),$.join("")}return be(i,+v)}return i},V=(i,b="onChange")=>{const v=i;i=W(i);const w=M(v)-M(i);if(e.type==="number"||e.type==="digit"){const $=e.type==="number";i=sn(i,$,$)}let C=0;if(e.formatter&&b===e.formatTrigger){const{formatter:$,maxlength:_}=e;if(i=$(i),A(_)&&M(i)>+_&&(i=be(i,+_)),r.value&&o.focused){const{selectionEnd:ie}=r.value,_e=be(v,ie);C=M($(_e))-M(_e)}}if(r.value&&r.value.value!==i)if(o.focused){let{selectionStart:$,selectionEnd:_}=r.value;if(r.value.value=i,A($)&&A(_)){const ie=M(i);w?($-=w,_-=w):C&&($+=C,_+=C),r.value.setSelectionRange(Math.min($,ie),Math.min(_,ie))}}else r.value.value=i;i!==e.modelValue&&t("update:modelValue",i)},g=i=>{i.target.composing||V(i.target.value)},T=()=>{var i;return(i=r.value)==null?void 0:i.blur()},p=()=>{var i;return(i=r.value)==null?void 0:i.focus()},ae=()=>{const i=r.value;e.type==="textarea"&&e.autosize&&i&&Gn(i,e.autosize)},gt=i=>{o.focused=!0,t("focus",i),H(ae),f("readonly")&&T()},mt=i=>{o.focused=!1,V(c(),"onBlur"),t("blur",i),!f("readonly")&&(k("onBlur"),H(ae),Xt())},Ae=i=>t("clickInput",i),ht=i=>t("clickLeftIcon",i),vt=i=>t("clickRightIcon",i),bt=i=>{ue(i),t("update:modelValue",""),t("clear",i)},Ie=R(()=>{if(typeof e.error=="boolean")return e.error;if(s&&s.props.showError&&o.status==="failed")return!0}),yt=R(()=>{const i=f("labelWidth"),b=f("labelAlign");if(i&&b!=="top")return{width:I(i)}}),Et=i=>{i.keyCode===13&&(!(s&&s.props.submitOnEnter)&&e.type!=="textarea"&&ue(i),e.type==="search"&&T()),t("keypress",i)},Oe=()=>e.id||`${a}-input`,xt=()=>o.status,St=()=>{const i=O("control",[f("inputAlign"),{error:Ie.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return u("div",{class:i,onClick:Ae},[n.input()]);const b={id:Oe(),ref:r,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:i,disabled:f("disabled"),readonly:f("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${a}-label`:void 0,onBlur:mt,onFocus:gt,onInput:g,onClick:Ae,onChange:Ue,onKeypress:Et,onCompositionend:Ue,onCompositionstart:Kn};return e.type==="textarea"?u("textarea",b,null):u("input",Ze(Jn(e.type),b),null)},Tt=()=>{const i=n["left-icon"];if(e.leftIcon||i)return u("div",{class:O("left-icon"),onClick:ht},[i?i():u(X,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},wt=()=>{const i=n["right-icon"];if(e.rightIcon||i)return u("div",{class:O("right-icon"),onClick:vt},[i?i():u(X,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Ct=()=>{if(e.showWordLimit&&e.maxlength){const i=M(c());return u("div",{class:O("word-limit")},[u("span",{class:O("word-num")},[i]),It("/"),e.maxlength])}},Bt=()=>{if(s&&s.props.showErrorMessage===!1)return;const i=e.errorMessage||o.validateMessage;if(i){const b=n["error-message"],v=f("errorMessageAlign");return u("div",{class:O("error-message",v)},[b?b({message:i}):i])}},kt=()=>{const i=f("labelWidth"),b=f("labelAlign"),v=f("colon")?":":"";if(n.label)return[n.label(),v];if(e.label)return u("label",{id:`${a}-label`,for:Oe(),style:b==="top"&&i?{width:I(i)}:void 0},[e.label+v])},Dt=()=>[u("div",{class:O("body")},[St(),h.value&&u(X,{ref:d,name:e.clearIcon,class:O("clear")},null),wt(),n.button&&u("div",{class:O("button")},[n.button()])]),Ct(),Bt()];return it({blur:T,focus:p,validate:B,formValue:m,resetValidation:S,getValidationStatus:xt}),Be(Qe,{customValue:l,resetValidation:S,validateWithTrigger:k}),j(()=>e.modelValue,()=>{V(c()),S(),k("onChange"),H(ae)}),fe(()=>{V(c(),e.formatTrigger),H(ae)}),me("touchstart",bt,{target:R(()=>{var i;return(i=d.value)==null?void 0:i.$el})}),()=>{const i=f("disabled"),b=f("labelAlign"),v=Tt(),w=()=>{const C=kt();return b==="top"?[v,C].filter(Boolean):C||[]};return u(qn,{size:e.size,class:O({error:Ie.value,disabled:i,[`label-${b}`]:b}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:yt.value,valueClass:O("value"),titleClass:[O("label",[b,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:v&&b!=="top"?()=>v:null,title:w,value:Dt,extra:n.extra})}}});const Wa=z(na),[aa,q,ia]=F("list"),oa={error:Boolean,offset:J(300),loading:Boolean,disabled:Boolean,finished:Boolean,errorText:String,direction:D("down"),loadingText:String,finishedText:String,immediateCheck:De};var ra=L({name:aa,props:oa,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const a=x(e.loading),o=x(),r=x(),d=jn(),l=Je(o),s=()=>{H(()=>{if(a.value||e.finished||e.disabled||e.error||(d==null?void 0:d.value)===!1)return;const{direction:y}=e,S=+e.offset,E=ye(l);if(!E.height||Kt(o))return;let B=!1;const k=ye(r);y==="up"?B=E.top-k.top<=S:B=k.bottom-E.bottom<=S,B&&(a.value=!0,t("update:loading",!0),t("load"))})},c=()=>{if(e.finished){const y=n.finished?n.finished():e.finishedText;if(y)return u("div",{class:q("finished-text")},[y])}},f=()=>{t("update:error",!1),s()},h=()=>{if(e.error){const y=n.error?n.error():e.errorText;if(y)return u("div",{role:"button",class:q("error-text"),tabindex:0,onClick:f},[y])}},m=()=>{if(a.value&&!e.finished&&!e.disabled)return u("div",{class:q("loading")},[n.loading?n.loading():u($e,{class:q("loading-icon")},{default:()=>[e.loadingText||ia("loading")]})])};return j(()=>[e.loading,e.finished,e.error],s),d&&j(d,y=>{y&&s()}),Ot(()=>{a.value=e.loading}),fe(()=>{e.immediateCheck&&s()}),it({check:s}),me("scroll",s,{target:l,passive:!0}),()=>{var y;const S=(y=n.default)==null?void 0:y.call(n),E=u("div",{ref:r,class:q("placeholder")},null);return u("div",{ref:o,role:"feed",class:q(),"aria-busy":a.value},[e.direction==="down"?S:E,m(),c(),h(),e.direction==="up"?S:E])}}});const Ya=z(ra),[sa,G,la]=F("pull-refresh"),ft=50,ca=["pulling","loosing","success"],ua={disabled:Boolean,modelValue:Boolean,headHeight:J(ft),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:P,successDuration:J(500),animationDuration:J(300)};var da=L({name:sa,props:ua,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let a;const o=x(),r=x(),d=Je(o),l=te({status:"normal",distance:0,duration:0}),s=Nn(),c=()=>{if(e.headHeight!==ft)return{height:`${e.headHeight}px`}},f=()=>l.status!=="loading"&&l.status!=="success"&&!e.disabled,h=g=>{const T=+(e.pullDistance||e.headHeight);return g>T&&(g<T*2?g=T+(g-T)/2:g=T*1.5+(g-T*2)/4),Math.round(g)},m=(g,T)=>{const p=+(e.pullDistance||e.headHeight);l.distance=g,T?l.status="loading":g===0?l.status="normal":g<p?l.status="pulling":l.status="loosing",t("change",{status:l.status,distance:g})},y=()=>{const{status:g}=l;return g==="normal"?"":e[`${g}Text`]||la(g)},S=()=>{const{status:g,distance:T}=l;if(n[g])return n[g]({distance:T});const p=[];return ca.includes(g)&&p.push(u("div",{class:G("text")},[y()])),g==="loading"&&p.push(u($e,{class:G("loading")},{default:y})),p},E=()=>{l.status="success",setTimeout(()=>{m(0)},+e.successDuration)},B=g=>{a=et(d.value)===0,a&&(l.duration=0,s.start(g))},k=g=>{f()&&B(g)},W=g=>{if(f()){a||B(g);const{deltaY:T}=s;s.move(g),a&&T.value>=0&&s.isVertical()&&(ue(g),m(h(T.value)))}},V=()=>{a&&s.deltaY.value&&f()&&(l.duration=+e.animationDuration,l.status==="loosing"?(m(+e.headHeight,!0),t("update:modelValue",!0),H(()=>t("refresh"))):m(0))};return j(()=>e.modelValue,g=>{l.duration=+e.animationDuration,g?m(+e.headHeight,!0):n.success||e.successText?E():m(0,!1)}),me("touchmove",W,{target:r}),()=>{var g;const T={transitionDuration:`${l.duration}ms`,transform:l.distance?`translate3d(0,${l.distance}px, 0)`:""};return u("div",{ref:o,class:G()},[u("div",{ref:r,class:G("track"),style:T,onTouchstartPassive:k,onTouchend:V,onTouchcancel:V},[u("div",{class:G("head"),style:c()},[S()]),(g=n.default)==null?void 0:g.call(n)])])}}});const Ua=z(da);export{Hn as $,Ea as A,ja as B,va as C,$e as D,Oa as E,Wa as F,ya as G,Na as H,X as I,ce as J,et as K,Ya as L,Ne as M,ke as N,J as O,Ua as P,Je as Q,Aa as R,Kt as S,ka as T,Sa as U,pn as V,I as W,La as X,tt as Y,Pa as Z,bn as _,Jt as a,ba as a0,Fa as a1,vn as a2,xa as a3,ge as a4,Da as a5,qn as a6,ma as a7,Ia as a8,Ta as a9,ga as aa,Vt as ab,Qt as ac,ut as ad,Ha as ae,Ca as af,le as ag,Va as ah,Ra as ai,Ba as aj,K as ak,za as al,Pe as am,Ma as an,Zt as ao,hn as ap,ea as aq,_a as ar,sn as as,Xt as at,Ve as au,dn as av,wa as b,F as c,z as d,Z as e,rt as f,Lt as g,it as h,_t as i,P as j,se as k,Sn as l,Nn as m,ha as n,Ht as o,Ut as p,ue as q,ot as r,me as s,De as t,ye as u,$a as v,Gt as w,A as x,D as y,pa as z};
